"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[620],{19053:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var r=a(86484),n=a.n(r),l=a(35776),s=a(88767),o=a(94184),c=a.n(o),i=a(4750),u=a(58084),m=a(26990),d=a(28889),f=a(84558),p=a(30435),b=a(92360),h=a(34247),y=a(92885),x=a(32713),g=(a(25782),a(15733)),v=a(30588),w=a(75526),E=a(38061),N=a(52955);const k=["elementRef","onRequestClose"],C=["className"];function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},O.apply(this,arguments)}function j(e,t,a,r,n,l,s){try{var o=e[l](s),c=o.value}catch(e){return void a(e)}o.done?t(c):Promise.resolve(c).then(r,n)}function P(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var l=e.apply(t,a);function s(e){j(l,r,n,s,o,"next",e)}function o(e){j(l,r,n,s,o,"throw",e)}s(void 0)}))}}function q(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}const z={error:"Something went wrong, try again later",throttled:"There is no extension update available, try again later",no_update:"Your extension is already the latest and greatest. You're awesome ðŸŽ‰",update_available:"Browser extension updated ðŸŽ‰"};const A=function(e){let t=e.elementRef,r=e.onRequestClose,o=q(e,k);const j=(0,h.o)(),A=j.latestPost,R=j.dismiss,S=(0,x.sW)(),T=(0,l.useContext)(E.ZP).sidebarExpanded,Z=(0,l.useMemo)((()=>[16*(T?7.5:2.5),32]),[T]),M=(0,s.useMutation)(P(n().mark((function e(){var t,r,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:e.next=4;break;case 4:return e.next=6,Promise.resolve().then(a.bind(a,19416)).then((e=>e.browser));case 6:return t=e.sent,e.next=9,t.runtime.sendMessage({type:y.j.RequestUpdate});case 9:r=e.sent,(l=z[r.status])&&S.displayToast(l);case 12:case"end":return e.stop()}}),e)}))),{onError:()=>{S.displayToast(z.error)}}),U=M.mutateAsync,Y=M.isLoading,B=function(){var e=P(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"function"==typeof r&&r(t),e.next=3,R();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=P(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.default.createElement(u.BaseTooltip,O({},o,{content:!!A&&l.default.createElement("div",{className:"flex relative flex-col whitespace-normal break-words rounded-16 border shadow-2 focus:outline-none w-[24rem] changelog bg-theme-bg-tertiary border-theme-color-cabbage"},l.default.createElement("header",{className:"flex flex-1 items-center py-3 px-4 border-b border-theme-divider-tertiary"},l.default.createElement("h3",{className:"font-bold typo-title3 text-theme-label-primary"},"New release"),l.default.createElement(d.A,{className:"right-4",onClick:B,buttonSize:m.q.XSmall})),l.default.createElement("section",{className:"flex flex-col flex-1 p-5 h-full shrink max-h-full"},l.default.createElement(b.E,{className:"object-cover rounded-lg w-[207px] h-[108px]",alt:"Post Cover image",src:A.image,fallbackSrc:f.n.post.imageCoverPlaceholder,loading:"lazy"}),l.default.createElement("h3",{className:"mt-3 font-normal text-theme-label-primary typo-title3"},A.title),l.default.createElement("time",{className:"text-theme-label-quaternary typo-callout",dateTime:A.createdAt},(0,p.mY)(A.createdAt)),!!A.summary&&l.default.createElement("div",{className:"mt-2 w text-theme-label-tertiary typo-callout"},A.summary),l.default.createElement("div",{className:"flex gap-4 py-2 px-3 mt-4 font-bold w text-theme-color-salt typo-footnote"},l.default.createElement("span",{className:"flex gap-2"},l.default.createElement(g.Z,{secondary:!0}),l.default.createElement(w.Z,{value:A.numUpvotes})),l.default.createElement("span",{className:"flex gap-2"},l.default.createElement(v.Z,{secondary:!0}),l.default.createElement(w.Z,{value:A.numComments})))),l.default.createElement("footer",{className:"flex gap-3 justify-between items-center py-3 px-4 w-full h-16 border-t border-theme-divider-tertiary"},l.default.createElement(m.z,{className:"btn-tertiary",onClick:R,tag:"a",href:A.permalink},"Release notes"),l.default.createElement(m.z,{tag:void 0,href:void 0,className:"bg-cabbage-40 btn-primary",loading:Y,onClick:I},"Update extension"))),offset:Z,interactive:!0,container:{className:"shadow",paddingClassName:"p-0",roundedClassName:"rounded-16",bgClassName:"bg-cabbage-40",ArrowComponent:e=>{e.className;let t=q(e,C);return l.default.createElement("div",O({},t,{className:c()("flex items-center h-2 -z-1",T?"-left-14":"-left-[2.65rem]")}),l.default.createElement("div",{className:c()(T?"w-16":"w-[4.65rem]","h-px bg-cabbage-40")}),l.default.createElement(N.q,{color:N.j.Cabbage}))}},reference:t,placement:"right-end",visible:!!A,zIndex:9,sticky:!0,plugins:[i.CA]}))}}}]);