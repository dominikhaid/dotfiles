"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[19],{64975:(e,t,r)=>{r.d(t,{H:()=>s,Z:()=>f});var n=r(94184),a=r.n(n),l=r(35776),o=r(49003);const u=["children","placeholder","className","canFetchMore","isFetchingNextPage","fetchNextPage"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const s=e=>{var t;return!e.isLoading&&!e.isFetchingNextPage&&e.hasNextPage&&(null===(t=e.data)||void 0===t?void 0:t.pages.length)>0};const f=function(e){let t=e.children,r=e.placeholder,n=e.className,s=e.canFetchMore,f=e.isFetchingNextPage,d=e.fetchNextPage,m=i(e,u);const p=(0,o.Z)({fetchPage:d,canFetchMore:s});return l.default.createElement("div",c({},m,{className:a()("flex relative flex-col",n)}),t,f&&r,l.default.createElement("div",{className:"absolute bottom-0 left-0 w-px h-px opacity-0 pointer-events-none",ref:p}))}},94226:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(35776),a=r(34051);const l=(0,r(32256).Z)(a.f,"h-3 rounded-12");const o=function(e){let t=e.amount,r=void 0===t?7:t;return n.default.createElement("div",{className:"flex flex-col"},Array(r).fill(0).map(((e,t)=>n.default.createElement("div",{key:t,className:"flex flex-row items-center py-3 px-8"},n.default.createElement(a.f,{className:"w-16 laptop:w-24 h-16 rounded-16"}),n.default.createElement("div",{className:"flex flex-col flex-1 ml-4"},n.default.createElement(l,{className:"w-full laptop:w-1/2"}),n.default.createElement(l,{className:"mt-2 w-2/3 laptop:w-1/3"}))))))}},134:(e,t,r)=>{r.r(t),r.d(t,{default:()=>C});var n=r(86484),a=r.n(n),l=r(35776),o=r(88767),u=r(28687),c=r.n(u),i=r(58953),s=r(33793),f=r(97550),d=r(52809),m=r(32713),p=r(61843),b=r(21156),y=r(55206),v=r(62835);const h=["onSharedSuccessfully","onRequestClose","isOpen","preview","squad","requestMethod"];function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g.apply(this,arguments)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t,r,n,a,l,o){try{var u=e[l](o),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,a)}function P(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var l=e.apply(t,r);function o(e){E(l,n,a,o,u,"next",e)}function u(e){E(l,n,a,o,u,"throw",e)}o(void 0)}))}}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,u=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){u=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(u)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const k=[{key:y.XK.SelectArticle},{key:y.XK.WriteComment}];const C=function(e){let t=e.onSharedSuccessfully,r=e.onRequestClose,n=e.isOpen,u=e.preview,y=e.squad,O=e.requestMethod,x=void 0===O?c():O,E=N(e,h);const S=!!u,C=(0,o.useQueryClient)(),q=(0,l.useContext)(v.ZP).user,D=(0,m.sW)().displayToast,Z=j((0,l.useState)({name:y.name,file:y.image,handle:y.handle,buttonText:"Done",preview:u}),2),I=Z[0],A=Z[1],L=function(){var e=P(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&(null==t||t(n)),D("This post has been shared to your Squad"),e.next=4,C.invalidateQueries(["sourceFeed",q.id]);case 4:r(null);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=(0,o.useMutation)((0,s.nf)(x),{onSuccess:L}),M=F.mutateAsync,R=F.isLoading,z=(0,o.useMutation)(d.m5,{onSuccess:e=>L(e)}),H=z.mutateAsync,_=z.isLoading,T=function(){var e=P(a().mark((function e(t,r){var n,l,o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t||t.preventDefault(),!R){e.next=3;break}return e.abrupt("return",null);case 3:if(!I.preview.id){e.next=5;break}return e.abrupt("return",M({id:I.preview.id,sourceId:y.id,commentary:null!=r?r:null==t?void 0:t.target[0].value}));case 5:if(n=I.preview,l=n.title,o=n.image,u=n.url,l){e.next=8;break}return e.abrupt("return",D("Invalid link"));case 8:return e.abrupt("return",H({url:u,title:l,image:o,sourceId:y.id,commentary:r}));case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),K=function(){var e=P(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&A(t),t.commentary){e.next=3;break}return e.abrupt("return");case 3:T(void 0,t.commentary);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U={form:I,setForm:A,onNext:K,onRequestClose:r};return l.default.createElement(i.u_,g({isOpen:n,kind:i.u_.Kind.FixedCenter,size:i.u_.Size.Small,onRequestClose:r,steps:u.id?void 0:k},E),l.default.createElement(i.u_.Header,{title:S?"Post article":"Share post"}),S?l.default.createElement(f.$,{form:I,onSubmit:T,isLoading:R||_,onUpdateForm:e=>A((t=>w(w({},t),e)))}):l.default.createElement(l.default.Fragment,null,l.default.createElement(p.q,U),l.default.createElement(b.N,U)))}},6646:(e,t,r)=>{r.d(t,{Z:()=>h});var n=r(35776),a=r(94184),l=r.n(a),o=r(41664),u=r.n(o),c=r(59363),i=r(85708),s=r(32256),f=r(26990),d=r(50104),m=r(38050),p=r(92360),b=r(77314),y=r(84558);const v=(0,s.Z)("div","absolute left-5 -my-1 w-8 h-8 rounded-full bg-theme-bg-primary");function h(e){var t;let r=e.postItem,a=e.showButtons,o=void 0===a||a,s=e.clickable,h=void 0===s||s,g=e.onHide,O=e.className,w=e.onContextMenu;const x=r.timestampDb,E=r.post,P=null!==(t=null==E?void 0:E.sharedPost)&&void 0!==t?t:E;return n.default.createElement(b.Z,{condition:h,wrapper:e=>n.default.createElement(u(),{href:E.commentsPermalink},e)},n.default.createElement("article",{className:l()("flex relative flex-row items-center py-3 pr-5 pl-9",h&&"hover:bg-theme-hover hover:cursor-pointer",O)},n.default.createElement(p.E,{src:P.image,alt:E.title,className:"object-cover w-16 laptop:w-24 h-16 rounded-16",loading:"lazy",fallbackSrc:y.n.post.imageCoverPlaceholder}),n.default.createElement(v,null),n.default.createElement(m.YY,{size:"small",rounded:"full",className:"absolute left-6",user:{image:E.source.image,username:`source of ${E.title}`},nativeLazyLoading:!0}),n.default.createElement("div",{className:"flex flex-col flex-1 ml-4"},n.default.createElement("h3",{className:"flex flex-1 mr-6 text-left break-words line-clamp-2 typo-callout"},E.title),n.default.createElement(d.Z,{readTime:E.readTime,numUpvotes:E.numUpvotes})),o&&g&&n.default.createElement(f.z,{buttonSize:f.q.Small,className:"hidden laptop:flex btn-tertiary",icon:n.default.createElement(c.Z,null),onClick:e=>{e.stopPropagation(),g({postId:E.id,timestamp:x})}}),o&&n.default.createElement(f.z,{className:"btn-tertiary","data-testId":`post-item-${E.id}`,icon:n.default.createElement(i.Z,null),onClick:e=>{e.stopPropagation(),w(e,r)},buttonSize:f.q.Small})))}},53816:(e,t,r)=>{r.d(t,{Z:()=>p});var n=r(35776),a=r(94184),l=r.n(a),o=r(92360),u=r(84558),c=r(96028),i=r(34051),s=r(32256),f=r(86548);const d=(0,s.Z)(i.f,"rounded-16 bg-theme-active"),m=(0,s.Z)(d,"w-full h-1.5");const p=function(e){let t=e.preview,r=e.className,a=e.isLoading;const i=null!=t?t:{},s=i.url,p=i.title,b=i.image,y="w-16 laptop:w-24 h-16 rounded-16";return a||p?n.default.createElement("div",{className:l()("flex gap-4 items-center py-2 px-4 w-full rounded-12 border border-theme-divider-tertiary",r)},a?n.default.createElement("div",{className:"flex flex-col flex-1 gap-3"},n.default.createElement(m,null),n.default.createElement(m,null),n.default.createElement(m,{className:"w-1/3"})):n.default.createElement("p",{className:"flex-1 line-clamp-3 multi-truncate text-theme-label-secondary typo-caption1"},p),a?n.default.createElement(d,{className:y}):n.default.createElement(o.E,{src:b,className:l()("object-cover",y),loading:"lazy",fallbackSrc:u.n.post.imageCoverPlaceholder}),n.default.createElement("a",{href:s,target:"_blank",rel:"noopener noreferrer"},n.default.createElement(c.Z,{size:f.J.Medium,className:a&&"text-theme-label-disabled"}))):null}},97550:(e,t,r)=>{r.d(t,{$:()=>k});var n,a=r(35776),l=r(94184),o=r.n(l),u=r(58953),c=r(26990),i=r(38050),s=r(52250),f=r(92360),d=r(84558),m=r(62835),p=r(36583),b=r(52465),y=r(72107),v=r(17291),h=r(70558),g=r(43197),O=r(53816),w=r(48820),x=r(48270);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,u=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){u=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(u)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e){let t=e.onSubmit,r=e.form,l=e.isLoading,E=e.onUpdateForm;const j=(0,a.useRef)(),N=r.preview,k=r.handle,C=r.file,q=r.name,D=!!N.id,Z=(0,a.useContext)(m.ZP).user,I=S((0,a.useState)(r.commentary),2),A=I[0],L=I[1],F=S((0,a.useState)(N.url),2),M=F[0],R=F[1],z=S((0,a.useState)(N.url),2),H=z[0],_=z[1],T=(0,x.x)({callback:{onSuccess:(e,t)=>{var r;E({preview:P({url:t},e)}),null==j||null===(r=j.current)||void 0===r||r.focus()},onError:(e,t)=>E({preview:{url:t}})}}),K=T.getLinkPreview,U=T.isLoadingPreview,W=S((0,v.Z)((e=>(0,h.HH)(e)&&e!==N.url?K(e):null),1e3),1)[0];(0,a.useEffect)((()=>{var e,t;N.title&&(null==j||null===(e=j.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e))}),[]);const B=e=>t(e,A);return a.default.createElement(a.default.Fragment,null,a.default.createElement(u.u_.Body,{className:o()("flex flex-col",!D&&"pb-2")},a.default.createElement("form",{onSubmit:e=>B(e),className:"flex flex-col flex-1",id:"squad-comment"},a.default.createElement("span",{className:"flex flex-row flex-1 gap-4"},a.default.createElement(i.YY,{user:Z}),a.default.createElement("textarea",{placeholder:"Share your thought and insights about the post…",className:"flex-1 self-stretch w-full min-w-0 focus:placeholder-transparent bg-transparent focus:outline-none resize-none typo-body caret-theme-label-link text-theme-label-primary",value:A,onKeyDown:e=>{(e.ctrlKey||e.metaKey)&&e.key===g.SO.Enter&&null!=A&&A.length&&B(null)},onChange:e=>L(e.target.value),ref:j})),a.default.createElement(O.Z,{className:"mb-4",preview:N,isLoading:U}),!D&&a.default.createElement(b.n,{leftIcon:U?a.default.createElement(w.a,null):a.default.createElement(y.Z,null),label:"Enter link to share",fieldType:"tertiary",inputId:"url",name:"url",type:"url",autoComplete:"off",required:!0,value:M,onInput:e=>{const t=e.currentTarget.value;return R(t),W(t),t?(0,h.HH)(t)?(H&&_(""),null):H&&H!==n.Required?null:_(n.Invalid):_(n.Required)},hint:H,saveHintSpace:!0,disabled:l}))),a.default.createElement(u.u_.Footer,{justify:s.WD.Between},a.default.createElement("div",{className:"flex"},a.default.createElement(f.E,{className:"object-cover mr-3 w-8 h-8 rounded-full",src:null!=C?C:d.n.squads.imageFallback}),a.default.createElement("div",null,a.default.createElement("h5",{className:"font-bold typo-caption1"},q),a.default.createElement("h6",{className:"typo-caption1 text-theme-label-tertiary"},"@",k))),a.default.createElement(p.i,{placement:"left",disabled:!!A,content:"Please add a comment before proceeding"},a.default.createElement("div",null,a.default.createElement(c.z,{form:"squad-comment",className:"btn-primary-cabbage",type:"submit",loading:l,disabled:!A||l||U||!N.title},"Done")))))}!function(e){e.Required="Please enter URL!",e.Invalid="URL is invalid!"}(n||(n={}))},61843:(e,t,r)=>{r.d(t,{q:()=>g});var n=r(35776),a=r(62835),l=r(1437),o=r(23758),u=r(58953),c=r(6646),i=r(55206),s=r(94226),f=r(39572),d=r(26990),m=r(64975),p=r(8311),b=r(86548);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){let t=e.form,r=e.onNext,y=e.onRequestClose;const h=(0,n.useContext)(f.LO).activeView;if(i.XK.SelectArticle!==h)return null;const g=(0,n.useContext)(a.ZP).user,O={key:["readHistory",null==g?void 0:g.id],query:l.dC,variables:{isPublic:!0}},w=(0,o.Z)(O),x=w.hasData,E=w.data,P=w.isInitialLoading,j=w.isLoading,S=w.queryResult,N=(e,n)=>a=>{r(v(v({},t),{},{preview:e.post})),n(a)},k=!x&&!P;return n.default.createElement(n.default.Fragment,null,n.default.createElement(u.u_.Body,null,n.default.createElement(i.q4,null,k?"Read":"Share"," ",n.default.createElement(i.Cj,null,"a post")),n.default.createElement("p",{className:"py-4 text-center"},k?"Your reading history is empty! Please read at least one post by clicking on a post to start sharing with your Squad.":"Pick a post that you would like to discuss with your Squad members."),n.default.createElement(u.u_.StepsWrapper,null,(e=>{let t=e.nextStep;return n.default.createElement(m.Z,{canFetchMore:(0,m.H)(S),fetchNextPage:S.fetchNextPage,isFetchingNextPage:S.isFetchingNextPage},null==E?void 0:E.pages.map((e=>e.readHistory.edges.map((e=>n.default.createElement("button",{key:e.node.post.id,type:"button",className:"group relative -mx-6 hover:bg-theme-hover cursor-pointer",onClick:N(e.node,t)},n.default.createElement(c.Z,{postItem:e.node,showButtons:!1,clickable:!1}),n.default.createElement(p.Z,{size:b.J.Medium,className:"hidden group-hover:flex absolute top-1/2 right-3 rotate-90 -translate-y-1/2"})))))))})),j&&n.default.createElement(s.Z,{amount:P?15:1})),k&&n.default.createElement(u.u_.Footer,null,n.default.createElement(d.z,{className:"btn-secondary",onClick:y},"Close")))}},21156:(e,t,r)=>{r.d(t,{N:()=>m});var n=r(86484),a=r.n(n),l=r(35776),o=r(58953),u=r(55206),c=r(97550);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t,r,n,a,l,o){try{var u=e[l](o),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,a)}function m(e){let t=e.onNext,r=e.form;const n=e=>function(){var n,l=(n=a().mark((function n(l){var o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l.preventDefault(),o=s(s({},r),{},{commentary:l.target[0].value}),e(l),t(o);case 4:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var l=n.apply(e,t);function o(e){d(l,r,a,o,u,"next",e)}function u(e){d(l,r,a,o,u,"throw",e)}o(void 0)}))});return function(e){return l.apply(this,arguments)}}();return l.default.createElement(o.u_.StepsWrapper,{view:u.XK.WriteComment},(e=>{let t=e.nextStep;return l.default.createElement(c.$,{form:r,onSubmit:n(t)})}))}},55206:(e,t,r)=>{r.d(t,{Cj:()=>c,XK:()=>l,j_:()=>u,q4:()=>o,ux:()=>i});var n=r(35776),a=r(32256);let l;!function(e){e.Details="Squad settings",e.SelectArticle="Pick a post",e.WriteComment="Share post",e.Ready="Almost there!"}(l||(l={}));l.Details,l.SelectArticle,l.WriteComment,l.Ready;const o=(0,a.Z)("h3","text-center typo-large-title font-bold"),u=(0,a.Z)("p","text-center typo-title3 text-theme-label-tertiary"),c=(0,a.Z)("span","text-theme-color-cabbage"),i={title:"Are you sure?",description:n.default.createElement("p",null,"You can always create a new Squad from the left sidebar"),className:{buttons:"flex-row-reverse"},cancelButton:{title:"Stay",className:"btn-primary-cabbage"},okButton:{title:"Close",className:"btn-secondary"}}},48270:(e,t,r)=>{r.d(t,{x:()=>i});var n=r(88767),a=r(35776),l=r(52809),o=r(18495),u=r(32713);const c="An error occurred, please try again",i=e=>{let t=e.onEmptyUrl,r=e.callback;const i=(0,u.sW)().displayToast,s=(0,n.useMutation)(l.v1,{onSuccess:null==r?void 0:r.onSuccess,onError:function(e,t){var n,a;const l=(0,o.tf)(e,o.MS.RateLimited),u=null!==(n=null==l?void 0:l.message)&&void 0!==n?n:c;i(u);for(var s=arguments.length,f=new Array(s>2?s-2:0),d=2;d<s;d++)f[d-2]=arguments[d];null==r||null===(a=r.onError)||void 0===a||a.call(r,e,t,...f)}}),f=s.mutateAsync,d=s.isLoading;return(0,a.useMemo)((()=>({isLoadingPreview:d,getLinkPreview:e=>""===e?t():f(e)})),[f,t,d])}},23758:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(88767),a=r(35776),l=r(28687),o=r.n(l),u=r(50562),c=r(49003);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d=function(e){var t;let r=e.key,l=e.query,i=e.variables;const f=(0,n.useInfiniteQuery)(r,(e=>{let t=e.pageParam;return o()(u.B3,l,s(s({},i),{},{after:t}))}),{getNextPageParam:e=>{var t,r;return(null==e||null===(t=e.readHistory)||void 0===t?void 0:t.pageInfo.hasNextPage)&&(null==e||null===(r=e.readHistory)||void 0===r?void 0:r.pageInfo.endCursor)}}),d=f.isLoading,m=f.isFetchingNextPage,p=f.hasNextPage,b=f.data,y=f.fetchNextPage,v=!d&&!m&&p&&b.pages.length>0,h=(0,c.Z)({fetchPage:y,canFetchMore:v}),g=null==b||null===(t=b.pages)||void 0===t?void 0:t.some((e=>e.readHistory.edges.length>0));return(0,a.useMemo)((()=>({queryResult:f,hasData:g,isLoading:d,data:b,isInitialLoading:!g&&d,infiniteScrollRef:h})),[g,f,d,b,h])}}}]);