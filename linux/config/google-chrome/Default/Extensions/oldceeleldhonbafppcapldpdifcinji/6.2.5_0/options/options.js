(()=>{var e={412:function(e,t){var n,s,r;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=[e],n=function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class s extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const r=e=>e&&"object"==typeof e&&"function"==typeof e.then,i=(t,n)=>(...s)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||s.length<=1&&!1!==n.singleCallbackArg?t.resolve(s[0]):t.resolve(s)},a=e=>1==e?"argument":"arguments",o=(e,t)=>function(n,...s){if(s.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${s.length}`);if(s.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${s.length}`);return new Promise(((r,a)=>{if(t.fallbackToNoCallback)try{n[e](...s,i({resolve:r,reject:a},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,i),n[e](...s),t.fallbackToNoCallback=!1,t.noCallback=!0,r()}else t.noCallback?(n[e](...s),r()):n[e](...s,i({resolve:r,reject:a},t))}))},l=(e,t,n)=>new Proxy(t,{apply:(t,s,r)=>n.call(s,e,...r)});let c=Function.call.bind(Object.prototype.hasOwnProperty);const g=(e,t={},n={})=>{let s=Object.create(null),r={has:(t,n)=>n in e||n in s,get(r,i,a){if(i in s)return s[i];if(!(i in e))return;let d=e[i];if("function"==typeof d)if("function"==typeof t[i])d=l(e,e[i],t[i]);else if(c(n,i)){let t=o(i,n[i]);d=l(e,e[i],t)}else d=d.bind(e);else if("object"==typeof d&&null!==d&&(c(t,i)||c(n,i)))d=g(d,t[i],n[i]);else{if(!c(n,"*"))return Object.defineProperty(s,i,{configurable:!0,enumerable:!0,get:()=>e[i],set(t){e[i]=t}}),d;d=g(d,t[i],n["*"])}return s[i]=d,d},set:(t,n,r,i)=>(n in s?s[n]=r:e[n]=r,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(s,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(s,t)},i=Object.create(e);return new Proxy(i,r)},d=e=>({addListener(t,n,...s){t.addListener(e.get(n),...s)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),u=new s((e=>"function"!=typeof e?e:function(t){const n=g(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)})),m=new s((e=>"function"!=typeof e?e:function(t,n,s){let i,a,o=!1,l=new Promise((e=>{i=function(t){o=!0,e(t)}}));try{a=e(t,n,i)}catch(e){a=Promise.reject(e)}const c=!0!==a&&r(a);if(!0!==a&&!c&&!o)return!1;const g=e=>{e.then((e=>{s(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",s({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)}))};return g(c?a:l),!0})),h=({reject:n,resolve:s},r)=>{e.runtime.lastError?e.runtime.lastError.message===t?s():n(new Error(e.runtime.lastError.message)):r&&r.__mozWebExtensionPolyfillReject__?n(new Error(r.message)):s(r)},_=(e,t,n,...s)=>{if(s.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${s.length}`);if(s.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${s.length}`);return new Promise(((e,t)=>{const r=h.bind(null,{resolve:e,reject:t});s.push(r),n.sendMessage(...s)}))},E={devtools:{network:{onRequestFinished:d(u)}},runtime:{onMessage:d(m),onMessageExternal:d(m),sendMessage:_.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:_.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},p={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":p},services:{"*":p},websites:{"*":p}},g(e,E,n)};e.exports=n(chrome)}else e.exports=globalThis.browser},void 0===(r="function"==typeof n?n.apply(t,s):n)||(e.exports=r)}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";
/*! (C) Copyright 2020 LanguageTooler GmbH. All rights reserved. */
class e{static _contructor(){if(this._isInitialized)return;e._isChromium=navigator.userAgent.includes("Chrome/")||navigator.userAgent.includes("Chromium/"),e._isFirefox=navigator.userAgent.includes("Firefox/"),e._isThunderbird=navigator.userAgent.includes("Thunderbird/"),e._isOpera=navigator.userAgent.includes("OPR/"),e._isEdge=navigator.userAgent.includes("Edg/"),e._isOldEdge=navigator.userAgent.includes("Edge/"),e._isSafari=(navigator.userAgent.includes("Safari/")||navigator.userAgent.includes("AppleWebKit"))&&!e._isChromium&&!e._isEdge&&!e._isOpera,e._isYaBrowser=navigator.userAgent.includes("YaBrowser/"),e._isChrome=e._isChromium&&!e._isOpera&&!e._isEdge&&!e._isOldEdge&&!e._isYaBrowser;const t=navigator.userAgent.match(/Chrome\/(\d+)/);t&&(e._isUnsupportedChrome=parseInt(t[1])<67&&!navigator.userAgent.includes("Edge/"));const n=navigator.userAgent.match(/Firefox\/(\d+)/);n&&(e._isUnsupportedFirefox=parseInt(n[1])<60),this._isInitialized=!0}static getOS(){return navigator.userAgent.includes("Macintosh")?"Mac":navigator.userAgent.includes("Windows")?"Windows":navigator.userAgent.includes("CrOS")?"CrOS":navigator.userAgent.includes("Linux")?"Linux":"Other"}static isChromium(){return e._isChromium}static isChrome(){return e._isChrome}static isThunderbird(){return e._isThunderbird}static isFirefox(){return e._isFirefox}static isOpera(){return e._isOpera}static isEdge(){return e._isEdge}static isSafari(){return e._isSafari}static isYaBrowser(){return e._isYaBrowser}static isUnsupportedChrome(){return e._isUnsupportedChrome}static isUnsupportedFirefox(){return e._isUnsupportedFirefox}static isUnsupportedBrowser(){return e.isUnsupportedChrome()||e.isUnsupportedFirefox()}static getBrowserName(){return e.isChrome()?"Chrome":e.isFirefox()?"Firefox":e.isOpera()?"Opera":e.isEdge()?"Edge":e.isSafari()?"Safari":e.isYaBrowser()?"Yandex":"Unknown Browser"}static getUserAgentIdentifier(){let e="webextension";return this.isChrome()?e+="-chrome":this.isFirefox()?e+="-firefox":this.isOpera()?e+="-opera":this.isEdge()?e+="-edge":this.isYaBrowser()?e+="-chrome":this.isSafari()?e+="-safari":e+="-unknown",e+"-ng"}static isTouchDevice(){if(!("ontouchstart"in self))return!1;const e=navigator.userAgent.includes("Android");return this.isIOS()||e}static isIOS(){const e=navigator.userAgent.includes("iPhone OS"),t=navigator.userAgent.includes("Macintosh")&&Boolean(navigator.maxTouchPoints&&navigator.maxTouchPoints>2);return e||t}static isIOSTouchDevice(){return"ontouchstart"in self&&this.isIOS()}static isMacApp(){return navigator.userAgent.includes("AppleWebKit/")&&navigator.userAgent.includes("LanguageTool/")&&!navigator.userAgent.includes("Chrome/")&&!navigator.userAgent.includes("Chromium/")}static isWindowsApp(){return navigator.userAgent.includes("LanguageToolWindows/")}}function t(){var e=0,t=1,n=2,s=3,r=4,i=5,a=6,o=7,l=8,c=9,g=10,d=11,u=12,m=13,h=14,_=15,E=16,p=17,A=0,f=1,S=2,I=3,C=4;function y(e,t){void 0===t&&(t=0);var n=e.charCodeAt(t);if(55296<=n&&n<=56319&&t<e.length-1){var s=n;return 56320<=(r=e.charCodeAt(t+1))&&r<=57343?1024*(s-55296)+(r-56320)+65536:s}if(56320<=n&&n<=57343&&t>=1){var r=n;return 55296<=(s=e.charCodeAt(t-1))&&s<=56319?1024*(s-55296)+(r-56320)+65536:r}return n}function T(d,y,T){var R=[d].concat(y).concat([T]),N=R[R.length-2],L=T,b=R.lastIndexOf(h);if(b>1&&R.slice(1,b).every((function(e){return e==s}))&&-1==[s,m,p].indexOf(d))return S;var v=R.lastIndexOf(r);if(v>0&&R.slice(1,v).every((function(e){return e==r}))&&-1==[u,r].indexOf(N))return R.filter((function(e){return e==r})).length%2==1?I:C;if(N==e&&L==t)return A;if(N==n||N==e||N==t)return L==h&&y.every((function(e){return e==s}))?S:f;if(L==n||L==e||L==t)return f;if(N==a&&(L==a||L==o||L==c||L==g))return A;if(!(N!=c&&N!=o||L!=o&&L!=l))return A;if((N==g||N==l)&&L==l)return A;if(L==s||L==_)return A;if(L==i)return A;if(N==u)return A;var P=-1!=R.indexOf(s)?R.lastIndexOf(s)-1:R.length-2;return-1!=[m,p].indexOf(R[P])&&R.slice(P+1,-1).every((function(e){return e==s}))&&L==h||N==_&&-1!=[E,p].indexOf(L)?A:-1!=y.indexOf(r)?S:N==r&&L==r?A:f}function R(A){return 1536<=A&&A<=1541||1757==A||1807==A||2274==A||3406==A||69821==A||70082<=A&&A<=70083||72250==A||72326<=A&&A<=72329||73030==A?u:13==A?e:10==A?t:0<=A&&A<=9||11<=A&&A<=12||14<=A&&A<=31||127<=A&&A<=159||173==A||1564==A||6158==A||8203==A||8206<=A&&A<=8207||8232==A||8233==A||8234<=A&&A<=8238||8288<=A&&A<=8292||8293==A||8294<=A&&A<=8303||55296<=A&&A<=57343||65279==A||65520<=A&&A<=65528||65529<=A&&A<=65531||113824<=A&&A<=113827||119155<=A&&A<=119162||917504==A||917505==A||917506<=A&&A<=917535||917632<=A&&A<=917759||918e3<=A&&A<=921599?n:768<=A&&A<=879||1155<=A&&A<=1159||1160<=A&&A<=1161||1425<=A&&A<=1469||1471==A||1473<=A&&A<=1474||1476<=A&&A<=1477||1479==A||1552<=A&&A<=1562||1611<=A&&A<=1631||1648==A||1750<=A&&A<=1756||1759<=A&&A<=1764||1767<=A&&A<=1768||1770<=A&&A<=1773||1809==A||1840<=A&&A<=1866||1958<=A&&A<=1968||2027<=A&&A<=2035||2070<=A&&A<=2073||2075<=A&&A<=2083||2085<=A&&A<=2087||2089<=A&&A<=2093||2137<=A&&A<=2139||2260<=A&&A<=2273||2275<=A&&A<=2306||2362==A||2364==A||2369<=A&&A<=2376||2381==A||2385<=A&&A<=2391||2402<=A&&A<=2403||2433==A||2492==A||2494==A||2497<=A&&A<=2500||2509==A||2519==A||2530<=A&&A<=2531||2561<=A&&A<=2562||2620==A||2625<=A&&A<=2626||2631<=A&&A<=2632||2635<=A&&A<=2637||2641==A||2672<=A&&A<=2673||2677==A||2689<=A&&A<=2690||2748==A||2753<=A&&A<=2757||2759<=A&&A<=2760||2765==A||2786<=A&&A<=2787||2810<=A&&A<=2815||2817==A||2876==A||2878==A||2879==A||2881<=A&&A<=2884||2893==A||2902==A||2903==A||2914<=A&&A<=2915||2946==A||3006==A||3008==A||3021==A||3031==A||3072==A||3134<=A&&A<=3136||3142<=A&&A<=3144||3146<=A&&A<=3149||3157<=A&&A<=3158||3170<=A&&A<=3171||3201==A||3260==A||3263==A||3266==A||3270==A||3276<=A&&A<=3277||3285<=A&&A<=3286||3298<=A&&A<=3299||3328<=A&&A<=3329||3387<=A&&A<=3388||3390==A||3393<=A&&A<=3396||3405==A||3415==A||3426<=A&&A<=3427||3530==A||3535==A||3538<=A&&A<=3540||3542==A||3551==A||3633==A||3636<=A&&A<=3642||3655<=A&&A<=3662||3761==A||3764<=A&&A<=3769||3771<=A&&A<=3772||3784<=A&&A<=3789||3864<=A&&A<=3865||3893==A||3895==A||3897==A||3953<=A&&A<=3966||3968<=A&&A<=3972||3974<=A&&A<=3975||3981<=A&&A<=3991||3993<=A&&A<=4028||4038==A||4141<=A&&A<=4144||4146<=A&&A<=4151||4153<=A&&A<=4154||4157<=A&&A<=4158||4184<=A&&A<=4185||4190<=A&&A<=4192||4209<=A&&A<=4212||4226==A||4229<=A&&A<=4230||4237==A||4253==A||4957<=A&&A<=4959||5906<=A&&A<=5908||5938<=A&&A<=5940||5970<=A&&A<=5971||6002<=A&&A<=6003||6068<=A&&A<=6069||6071<=A&&A<=6077||6086==A||6089<=A&&A<=6099||6109==A||6155<=A&&A<=6157||6277<=A&&A<=6278||6313==A||6432<=A&&A<=6434||6439<=A&&A<=6440||6450==A||6457<=A&&A<=6459||6679<=A&&A<=6680||6683==A||6742==A||6744<=A&&A<=6750||6752==A||6754==A||6757<=A&&A<=6764||6771<=A&&A<=6780||6783==A||6832<=A&&A<=6845||6846==A||6912<=A&&A<=6915||6964==A||6966<=A&&A<=6970||6972==A||6978==A||7019<=A&&A<=7027||7040<=A&&A<=7041||7074<=A&&A<=7077||7080<=A&&A<=7081||7083<=A&&A<=7085||7142==A||7144<=A&&A<=7145||7149==A||7151<=A&&A<=7153||7212<=A&&A<=7219||7222<=A&&A<=7223||7376<=A&&A<=7378||7380<=A&&A<=7392||7394<=A&&A<=7400||7405==A||7412==A||7416<=A&&A<=7417||7616<=A&&A<=7673||7675<=A&&A<=7679||8204==A||8400<=A&&A<=8412||8413<=A&&A<=8416||8417==A||8418<=A&&A<=8420||8421<=A&&A<=8432||11503<=A&&A<=11505||11647==A||11744<=A&&A<=11775||12330<=A&&A<=12333||12334<=A&&A<=12335||12441<=A&&A<=12442||42607==A||42608<=A&&A<=42610||42612<=A&&A<=42621||42654<=A&&A<=42655||42736<=A&&A<=42737||43010==A||43014==A||43019==A||43045<=A&&A<=43046||43204<=A&&A<=43205||43232<=A&&A<=43249||43302<=A&&A<=43309||43335<=A&&A<=43345||43392<=A&&A<=43394||43443==A||43446<=A&&A<=43449||43452==A||43493==A||43561<=A&&A<=43566||43569<=A&&A<=43570||43573<=A&&A<=43574||43587==A||43596==A||43644==A||43696==A||43698<=A&&A<=43700||43703<=A&&A<=43704||43710<=A&&A<=43711||43713==A||43756<=A&&A<=43757||43766==A||44005==A||44008==A||44013==A||64286==A||65024<=A&&A<=65039||65056<=A&&A<=65071||65438<=A&&A<=65439||66045==A||66272==A||66422<=A&&A<=66426||68097<=A&&A<=68099||68101<=A&&A<=68102||68108<=A&&A<=68111||68152<=A&&A<=68154||68159==A||68325<=A&&A<=68326||69633==A||69688<=A&&A<=69702||69759<=A&&A<=69761||69811<=A&&A<=69814||69817<=A&&A<=69818||69888<=A&&A<=69890||69927<=A&&A<=69931||69933<=A&&A<=69940||70003==A||70016<=A&&A<=70017||70070<=A&&A<=70078||70090<=A&&A<=70092||70191<=A&&A<=70193||70196==A||70198<=A&&A<=70199||70206==A||70367==A||70371<=A&&A<=70378||70400<=A&&A<=70401||70460==A||70462==A||70464==A||70487==A||70502<=A&&A<=70508||70512<=A&&A<=70516||70712<=A&&A<=70719||70722<=A&&A<=70724||70726==A||70832==A||70835<=A&&A<=70840||70842==A||70845==A||70847<=A&&A<=70848||70850<=A&&A<=70851||71087==A||71090<=A&&A<=71093||71100<=A&&A<=71101||71103<=A&&A<=71104||71132<=A&&A<=71133||71219<=A&&A<=71226||71229==A||71231<=A&&A<=71232||71339==A||71341==A||71344<=A&&A<=71349||71351==A||71453<=A&&A<=71455||71458<=A&&A<=71461||71463<=A&&A<=71467||72193<=A&&A<=72198||72201<=A&&A<=72202||72243<=A&&A<=72248||72251<=A&&A<=72254||72263==A||72273<=A&&A<=72278||72281<=A&&A<=72283||72330<=A&&A<=72342||72344<=A&&A<=72345||72752<=A&&A<=72758||72760<=A&&A<=72765||72767==A||72850<=A&&A<=72871||72874<=A&&A<=72880||72882<=A&&A<=72883||72885<=A&&A<=72886||73009<=A&&A<=73014||73018==A||73020<=A&&A<=73021||73023<=A&&A<=73029||73031==A||92912<=A&&A<=92916||92976<=A&&A<=92982||94095<=A&&A<=94098||113821<=A&&A<=113822||119141==A||119143<=A&&A<=119145||119150<=A&&A<=119154||119163<=A&&A<=119170||119173<=A&&A<=119179||119210<=A&&A<=119213||119362<=A&&A<=119364||121344<=A&&A<=121398||121403<=A&&A<=121452||121461==A||121476==A||121499<=A&&A<=121503||121505<=A&&A<=121519||122880<=A&&A<=122886||122888<=A&&A<=122904||122907<=A&&A<=122913||122915<=A&&A<=122916||122918<=A&&A<=122922||125136<=A&&A<=125142||125252<=A&&A<=125258||917536<=A&&A<=917631||917760<=A&&A<=917999?s:127462<=A&&A<=127487?r:2307==A||2363==A||2366<=A&&A<=2368||2377<=A&&A<=2380||2382<=A&&A<=2383||2434<=A&&A<=2435||2495<=A&&A<=2496||2503<=A&&A<=2504||2507<=A&&A<=2508||2563==A||2622<=A&&A<=2624||2691==A||2750<=A&&A<=2752||2761==A||2763<=A&&A<=2764||2818<=A&&A<=2819||2880==A||2887<=A&&A<=2888||2891<=A&&A<=2892||3007==A||3009<=A&&A<=3010||3014<=A&&A<=3016||3018<=A&&A<=3020||3073<=A&&A<=3075||3137<=A&&A<=3140||3202<=A&&A<=3203||3262==A||3264<=A&&A<=3265||3267<=A&&A<=3268||3271<=A&&A<=3272||3274<=A&&A<=3275||3330<=A&&A<=3331||3391<=A&&A<=3392||3398<=A&&A<=3400||3402<=A&&A<=3404||3458<=A&&A<=3459||3536<=A&&A<=3537||3544<=A&&A<=3550||3570<=A&&A<=3571||3635==A||3763==A||3902<=A&&A<=3903||3967==A||4145==A||4155<=A&&A<=4156||4182<=A&&A<=4183||4228==A||6070==A||6078<=A&&A<=6085||6087<=A&&A<=6088||6435<=A&&A<=6438||6441<=A&&A<=6443||6448<=A&&A<=6449||6451<=A&&A<=6456||6681<=A&&A<=6682||6741==A||6743==A||6765<=A&&A<=6770||6916==A||6965==A||6971==A||6973<=A&&A<=6977||6979<=A&&A<=6980||7042==A||7073==A||7078<=A&&A<=7079||7082==A||7143==A||7146<=A&&A<=7148||7150==A||7154<=A&&A<=7155||7204<=A&&A<=7211||7220<=A&&A<=7221||7393==A||7410<=A&&A<=7411||7415==A||43043<=A&&A<=43044||43047==A||43136<=A&&A<=43137||43188<=A&&A<=43203||43346<=A&&A<=43347||43395==A||43444<=A&&A<=43445||43450<=A&&A<=43451||43453<=A&&A<=43456||43567<=A&&A<=43568||43571<=A&&A<=43572||43597==A||43755==A||43758<=A&&A<=43759||43765==A||44003<=A&&A<=44004||44006<=A&&A<=44007||44009<=A&&A<=44010||44012==A||69632==A||69634==A||69762==A||69808<=A&&A<=69810||69815<=A&&A<=69816||69932==A||70018==A||70067<=A&&A<=70069||70079<=A&&A<=70080||70188<=A&&A<=70190||70194<=A&&A<=70195||70197==A||70368<=A&&A<=70370||70402<=A&&A<=70403||70463==A||70465<=A&&A<=70468||70471<=A&&A<=70472||70475<=A&&A<=70477||70498<=A&&A<=70499||70709<=A&&A<=70711||70720<=A&&A<=70721||70725==A||70833<=A&&A<=70834||70841==A||70843<=A&&A<=70844||70846==A||70849==A||71088<=A&&A<=71089||71096<=A&&A<=71099||71102==A||71216<=A&&A<=71218||71227<=A&&A<=71228||71230==A||71340==A||71342<=A&&A<=71343||71350==A||71456<=A&&A<=71457||71462==A||72199<=A&&A<=72200||72249==A||72279<=A&&A<=72280||72343==A||72751==A||72766==A||72873==A||72881==A||72884==A||94033<=A&&A<=94078||119142==A||119149==A?i:4352<=A&&A<=4447||43360<=A&&A<=43388?a:4448<=A&&A<=4519||55216<=A&&A<=55238?o:4520<=A&&A<=4607||55243<=A&&A<=55291?l:44032==A||44060==A||44088==A||44116==A||44144==A||44172==A||44200==A||44228==A||44256==A||44284==A||44312==A||44340==A||44368==A||44396==A||44424==A||44452==A||44480==A||44508==A||44536==A||44564==A||44592==A||44620==A||44648==A||44676==A||44704==A||44732==A||44760==A||44788==A||44816==A||44844==A||44872==A||44900==A||44928==A||44956==A||44984==A||45012==A||45040==A||45068==A||45096==A||45124==A||45152==A||45180==A||45208==A||45236==A||45264==A||45292==A||45320==A||45348==A||45376==A||45404==A||45432==A||45460==A||45488==A||45516==A||45544==A||45572==A||45600==A||45628==A||45656==A||45684==A||45712==A||45740==A||45768==A||45796==A||45824==A||45852==A||45880==A||45908==A||45936==A||45964==A||45992==A||46020==A||46048==A||46076==A||46104==A||46132==A||46160==A||46188==A||46216==A||46244==A||46272==A||46300==A||46328==A||46356==A||46384==A||46412==A||46440==A||46468==A||46496==A||46524==A||46552==A||46580==A||46608==A||46636==A||46664==A||46692==A||46720==A||46748==A||46776==A||46804==A||46832==A||46860==A||46888==A||46916==A||46944==A||46972==A||47e3==A||47028==A||47056==A||47084==A||47112==A||47140==A||47168==A||47196==A||47224==A||47252==A||47280==A||47308==A||47336==A||47364==A||47392==A||47420==A||47448==A||47476==A||47504==A||47532==A||47560==A||47588==A||47616==A||47644==A||47672==A||47700==A||47728==A||47756==A||47784==A||47812==A||47840==A||47868==A||47896==A||47924==A||47952==A||47980==A||48008==A||48036==A||48064==A||48092==A||48120==A||48148==A||48176==A||48204==A||48232==A||48260==A||48288==A||48316==A||48344==A||48372==A||48400==A||48428==A||48456==A||48484==A||48512==A||48540==A||48568==A||48596==A||48624==A||48652==A||48680==A||48708==A||48736==A||48764==A||48792==A||48820==A||48848==A||48876==A||48904==A||48932==A||48960==A||48988==A||49016==A||49044==A||49072==A||49100==A||49128==A||49156==A||49184==A||49212==A||49240==A||49268==A||49296==A||49324==A||49352==A||49380==A||49408==A||49436==A||49464==A||49492==A||49520==A||49548==A||49576==A||49604==A||49632==A||49660==A||49688==A||49716==A||49744==A||49772==A||49800==A||49828==A||49856==A||49884==A||49912==A||49940==A||49968==A||49996==A||50024==A||50052==A||50080==A||50108==A||50136==A||50164==A||50192==A||50220==A||50248==A||50276==A||50304==A||50332==A||50360==A||50388==A||50416==A||50444==A||50472==A||50500==A||50528==A||50556==A||50584==A||50612==A||50640==A||50668==A||50696==A||50724==A||50752==A||50780==A||50808==A||50836==A||50864==A||50892==A||50920==A||50948==A||50976==A||51004==A||51032==A||51060==A||51088==A||51116==A||51144==A||51172==A||51200==A||51228==A||51256==A||51284==A||51312==A||51340==A||51368==A||51396==A||51424==A||51452==A||51480==A||51508==A||51536==A||51564==A||51592==A||51620==A||51648==A||51676==A||51704==A||51732==A||51760==A||51788==A||51816==A||51844==A||51872==A||51900==A||51928==A||51956==A||51984==A||52012==A||52040==A||52068==A||52096==A||52124==A||52152==A||52180==A||52208==A||52236==A||52264==A||52292==A||52320==A||52348==A||52376==A||52404==A||52432==A||52460==A||52488==A||52516==A||52544==A||52572==A||52600==A||52628==A||52656==A||52684==A||52712==A||52740==A||52768==A||52796==A||52824==A||52852==A||52880==A||52908==A||52936==A||52964==A||52992==A||53020==A||53048==A||53076==A||53104==A||53132==A||53160==A||53188==A||53216==A||53244==A||53272==A||53300==A||53328==A||53356==A||53384==A||53412==A||53440==A||53468==A||53496==A||53524==A||53552==A||53580==A||53608==A||53636==A||53664==A||53692==A||53720==A||53748==A||53776==A||53804==A||53832==A||53860==A||53888==A||53916==A||53944==A||53972==A||54e3==A||54028==A||54056==A||54084==A||54112==A||54140==A||54168==A||54196==A||54224==A||54252==A||54280==A||54308==A||54336==A||54364==A||54392==A||54420==A||54448==A||54476==A||54504==A||54532==A||54560==A||54588==A||54616==A||54644==A||54672==A||54700==A||54728==A||54756==A||54784==A||54812==A||54840==A||54868==A||54896==A||54924==A||54952==A||54980==A||55008==A||55036==A||55064==A||55092==A||55120==A||55148==A||55176==A?c:44033<=A&&A<=44059||44061<=A&&A<=44087||44089<=A&&A<=44115||44117<=A&&A<=44143||44145<=A&&A<=44171||44173<=A&&A<=44199||44201<=A&&A<=44227||44229<=A&&A<=44255||44257<=A&&A<=44283||44285<=A&&A<=44311||44313<=A&&A<=44339||44341<=A&&A<=44367||44369<=A&&A<=44395||44397<=A&&A<=44423||44425<=A&&A<=44451||44453<=A&&A<=44479||44481<=A&&A<=44507||44509<=A&&A<=44535||44537<=A&&A<=44563||44565<=A&&A<=44591||44593<=A&&A<=44619||44621<=A&&A<=44647||44649<=A&&A<=44675||44677<=A&&A<=44703||44705<=A&&A<=44731||44733<=A&&A<=44759||44761<=A&&A<=44787||44789<=A&&A<=44815||44817<=A&&A<=44843||44845<=A&&A<=44871||44873<=A&&A<=44899||44901<=A&&A<=44927||44929<=A&&A<=44955||44957<=A&&A<=44983||44985<=A&&A<=45011||45013<=A&&A<=45039||45041<=A&&A<=45067||45069<=A&&A<=45095||45097<=A&&A<=45123||45125<=A&&A<=45151||45153<=A&&A<=45179||45181<=A&&A<=45207||45209<=A&&A<=45235||45237<=A&&A<=45263||45265<=A&&A<=45291||45293<=A&&A<=45319||45321<=A&&A<=45347||45349<=A&&A<=45375||45377<=A&&A<=45403||45405<=A&&A<=45431||45433<=A&&A<=45459||45461<=A&&A<=45487||45489<=A&&A<=45515||45517<=A&&A<=45543||45545<=A&&A<=45571||45573<=A&&A<=45599||45601<=A&&A<=45627||45629<=A&&A<=45655||45657<=A&&A<=45683||45685<=A&&A<=45711||45713<=A&&A<=45739||45741<=A&&A<=45767||45769<=A&&A<=45795||45797<=A&&A<=45823||45825<=A&&A<=45851||45853<=A&&A<=45879||45881<=A&&A<=45907||45909<=A&&A<=45935||45937<=A&&A<=45963||45965<=A&&A<=45991||45993<=A&&A<=46019||46021<=A&&A<=46047||46049<=A&&A<=46075||46077<=A&&A<=46103||46105<=A&&A<=46131||46133<=A&&A<=46159||46161<=A&&A<=46187||46189<=A&&A<=46215||46217<=A&&A<=46243||46245<=A&&A<=46271||46273<=A&&A<=46299||46301<=A&&A<=46327||46329<=A&&A<=46355||46357<=A&&A<=46383||46385<=A&&A<=46411||46413<=A&&A<=46439||46441<=A&&A<=46467||46469<=A&&A<=46495||46497<=A&&A<=46523||46525<=A&&A<=46551||46553<=A&&A<=46579||46581<=A&&A<=46607||46609<=A&&A<=46635||46637<=A&&A<=46663||46665<=A&&A<=46691||46693<=A&&A<=46719||46721<=A&&A<=46747||46749<=A&&A<=46775||46777<=A&&A<=46803||46805<=A&&A<=46831||46833<=A&&A<=46859||46861<=A&&A<=46887||46889<=A&&A<=46915||46917<=A&&A<=46943||46945<=A&&A<=46971||46973<=A&&A<=46999||47001<=A&&A<=47027||47029<=A&&A<=47055||47057<=A&&A<=47083||47085<=A&&A<=47111||47113<=A&&A<=47139||47141<=A&&A<=47167||47169<=A&&A<=47195||47197<=A&&A<=47223||47225<=A&&A<=47251||47253<=A&&A<=47279||47281<=A&&A<=47307||47309<=A&&A<=47335||47337<=A&&A<=47363||47365<=A&&A<=47391||47393<=A&&A<=47419||47421<=A&&A<=47447||47449<=A&&A<=47475||47477<=A&&A<=47503||47505<=A&&A<=47531||47533<=A&&A<=47559||47561<=A&&A<=47587||47589<=A&&A<=47615||47617<=A&&A<=47643||47645<=A&&A<=47671||47673<=A&&A<=47699||47701<=A&&A<=47727||47729<=A&&A<=47755||47757<=A&&A<=47783||47785<=A&&A<=47811||47813<=A&&A<=47839||47841<=A&&A<=47867||47869<=A&&A<=47895||47897<=A&&A<=47923||47925<=A&&A<=47951||47953<=A&&A<=47979||47981<=A&&A<=48007||48009<=A&&A<=48035||48037<=A&&A<=48063||48065<=A&&A<=48091||48093<=A&&A<=48119||48121<=A&&A<=48147||48149<=A&&A<=48175||48177<=A&&A<=48203||48205<=A&&A<=48231||48233<=A&&A<=48259||48261<=A&&A<=48287||48289<=A&&A<=48315||48317<=A&&A<=48343||48345<=A&&A<=48371||48373<=A&&A<=48399||48401<=A&&A<=48427||48429<=A&&A<=48455||48457<=A&&A<=48483||48485<=A&&A<=48511||48513<=A&&A<=48539||48541<=A&&A<=48567||48569<=A&&A<=48595||48597<=A&&A<=48623||48625<=A&&A<=48651||48653<=A&&A<=48679||48681<=A&&A<=48707||48709<=A&&A<=48735||48737<=A&&A<=48763||48765<=A&&A<=48791||48793<=A&&A<=48819||48821<=A&&A<=48847||48849<=A&&A<=48875||48877<=A&&A<=48903||48905<=A&&A<=48931||48933<=A&&A<=48959||48961<=A&&A<=48987||48989<=A&&A<=49015||49017<=A&&A<=49043||49045<=A&&A<=49071||49073<=A&&A<=49099||49101<=A&&A<=49127||49129<=A&&A<=49155||49157<=A&&A<=49183||49185<=A&&A<=49211||49213<=A&&A<=49239||49241<=A&&A<=49267||49269<=A&&A<=49295||49297<=A&&A<=49323||49325<=A&&A<=49351||49353<=A&&A<=49379||49381<=A&&A<=49407||49409<=A&&A<=49435||49437<=A&&A<=49463||49465<=A&&A<=49491||49493<=A&&A<=49519||49521<=A&&A<=49547||49549<=A&&A<=49575||49577<=A&&A<=49603||49605<=A&&A<=49631||49633<=A&&A<=49659||49661<=A&&A<=49687||49689<=A&&A<=49715||49717<=A&&A<=49743||49745<=A&&A<=49771||49773<=A&&A<=49799||49801<=A&&A<=49827||49829<=A&&A<=49855||49857<=A&&A<=49883||49885<=A&&A<=49911||49913<=A&&A<=49939||49941<=A&&A<=49967||49969<=A&&A<=49995||49997<=A&&A<=50023||50025<=A&&A<=50051||50053<=A&&A<=50079||50081<=A&&A<=50107||50109<=A&&A<=50135||50137<=A&&A<=50163||50165<=A&&A<=50191||50193<=A&&A<=50219||50221<=A&&A<=50247||50249<=A&&A<=50275||50277<=A&&A<=50303||50305<=A&&A<=50331||50333<=A&&A<=50359||50361<=A&&A<=50387||50389<=A&&A<=50415||50417<=A&&A<=50443||50445<=A&&A<=50471||50473<=A&&A<=50499||50501<=A&&A<=50527||50529<=A&&A<=50555||50557<=A&&A<=50583||50585<=A&&A<=50611||50613<=A&&A<=50639||50641<=A&&A<=50667||50669<=A&&A<=50695||50697<=A&&A<=50723||50725<=A&&A<=50751||50753<=A&&A<=50779||50781<=A&&A<=50807||50809<=A&&A<=50835||50837<=A&&A<=50863||50865<=A&&A<=50891||50893<=A&&A<=50919||50921<=A&&A<=50947||50949<=A&&A<=50975||50977<=A&&A<=51003||51005<=A&&A<=51031||51033<=A&&A<=51059||51061<=A&&A<=51087||51089<=A&&A<=51115||51117<=A&&A<=51143||51145<=A&&A<=51171||51173<=A&&A<=51199||51201<=A&&A<=51227||51229<=A&&A<=51255||51257<=A&&A<=51283||51285<=A&&A<=51311||51313<=A&&A<=51339||51341<=A&&A<=51367||51369<=A&&A<=51395||51397<=A&&A<=51423||51425<=A&&A<=51451||51453<=A&&A<=51479||51481<=A&&A<=51507||51509<=A&&A<=51535||51537<=A&&A<=51563||51565<=A&&A<=51591||51593<=A&&A<=51619||51621<=A&&A<=51647||51649<=A&&A<=51675||51677<=A&&A<=51703||51705<=A&&A<=51731||51733<=A&&A<=51759||51761<=A&&A<=51787||51789<=A&&A<=51815||51817<=A&&A<=51843||51845<=A&&A<=51871||51873<=A&&A<=51899||51901<=A&&A<=51927||51929<=A&&A<=51955||51957<=A&&A<=51983||51985<=A&&A<=52011||52013<=A&&A<=52039||52041<=A&&A<=52067||52069<=A&&A<=52095||52097<=A&&A<=52123||52125<=A&&A<=52151||52153<=A&&A<=52179||52181<=A&&A<=52207||52209<=A&&A<=52235||52237<=A&&A<=52263||52265<=A&&A<=52291||52293<=A&&A<=52319||52321<=A&&A<=52347||52349<=A&&A<=52375||52377<=A&&A<=52403||52405<=A&&A<=52431||52433<=A&&A<=52459||52461<=A&&A<=52487||52489<=A&&A<=52515||52517<=A&&A<=52543||52545<=A&&A<=52571||52573<=A&&A<=52599||52601<=A&&A<=52627||52629<=A&&A<=52655||52657<=A&&A<=52683||52685<=A&&A<=52711||52713<=A&&A<=52739||52741<=A&&A<=52767||52769<=A&&A<=52795||52797<=A&&A<=52823||52825<=A&&A<=52851||52853<=A&&A<=52879||52881<=A&&A<=52907||52909<=A&&A<=52935||52937<=A&&A<=52963||52965<=A&&A<=52991||52993<=A&&A<=53019||53021<=A&&A<=53047||53049<=A&&A<=53075||53077<=A&&A<=53103||53105<=A&&A<=53131||53133<=A&&A<=53159||53161<=A&&A<=53187||53189<=A&&A<=53215||53217<=A&&A<=53243||53245<=A&&A<=53271||53273<=A&&A<=53299||53301<=A&&A<=53327||53329<=A&&A<=53355||53357<=A&&A<=53383||53385<=A&&A<=53411||53413<=A&&A<=53439||53441<=A&&A<=53467||53469<=A&&A<=53495||53497<=A&&A<=53523||53525<=A&&A<=53551||53553<=A&&A<=53579||53581<=A&&A<=53607||53609<=A&&A<=53635||53637<=A&&A<=53663||53665<=A&&A<=53691||53693<=A&&A<=53719||53721<=A&&A<=53747||53749<=A&&A<=53775||53777<=A&&A<=53803||53805<=A&&A<=53831||53833<=A&&A<=53859||53861<=A&&A<=53887||53889<=A&&A<=53915||53917<=A&&A<=53943||53945<=A&&A<=53971||53973<=A&&A<=53999||54001<=A&&A<=54027||54029<=A&&A<=54055||54057<=A&&A<=54083||54085<=A&&A<=54111||54113<=A&&A<=54139||54141<=A&&A<=54167||54169<=A&&A<=54195||54197<=A&&A<=54223||54225<=A&&A<=54251||54253<=A&&A<=54279||54281<=A&&A<=54307||54309<=A&&A<=54335||54337<=A&&A<=54363||54365<=A&&A<=54391||54393<=A&&A<=54419||54421<=A&&A<=54447||54449<=A&&A<=54475||54477<=A&&A<=54503||54505<=A&&A<=54531||54533<=A&&A<=54559||54561<=A&&A<=54587||54589<=A&&A<=54615||54617<=A&&A<=54643||54645<=A&&A<=54671||54673<=A&&A<=54699||54701<=A&&A<=54727||54729<=A&&A<=54755||54757<=A&&A<=54783||54785<=A&&A<=54811||54813<=A&&A<=54839||54841<=A&&A<=54867||54869<=A&&A<=54895||54897<=A&&A<=54923||54925<=A&&A<=54951||54953<=A&&A<=54979||54981<=A&&A<=55007||55009<=A&&A<=55035||55037<=A&&A<=55063||55065<=A&&A<=55091||55093<=A&&A<=55119||55121<=A&&A<=55147||55149<=A&&A<=55175||55177<=A&&A<=55203?g:9757==A||9977==A||9994<=A&&A<=9997||127877==A||127938<=A&&A<=127940||127943==A||127946<=A&&A<=127948||128066<=A&&A<=128067||128070<=A&&A<=128080||128110==A||128112<=A&&A<=128120||128124==A||128129<=A&&A<=128131||128133<=A&&A<=128135||128170==A||128372<=A&&A<=128373||128378==A||128400==A||128405<=A&&A<=128406||128581<=A&&A<=128583||128587<=A&&A<=128591||128675==A||128692<=A&&A<=128694||128704==A||128716==A||129304<=A&&A<=129308||129310<=A&&A<=129311||129318==A||129328<=A&&A<=129337||129341<=A&&A<=129342||129489<=A&&A<=129501?m:127995<=A&&A<=127999?h:8205==A?_:9792==A||9794==A||9877<=A&&A<=9878||9992==A||10084==A||127752==A||127806==A||127859==A||127891==A||127908==A||127912==A||127979==A||127981==A||128139==A||128187<=A&&A<=128188||128295==A||128300==A||128488==A||128640==A||128658==A?E:128102<=A&&A<=128105?p:d}return this.nextBreak=function(e,t){if(void 0===t&&(t=0),t<0)return 0;if(t>=e.length-1)return e.length;for(var n,s,r=R(y(e,t)),i=[],a=t+1;a<e.length;a++)if(s=a-1,!(55296<=(n=e).charCodeAt(s)&&n.charCodeAt(s)<=56319&&56320<=n.charCodeAt(s+1)&&n.charCodeAt(s+1)<=57343)){var o=R(y(e,a));if(T(r,i,o))return a;i.push(o)}return e.length},this.splitGraphemes=function(e){for(var t,n=[],s=0;(t=this.nextBreak(e,s))<e.length;)n.push(e.slice(s,t)),s=t;return s<e.length&&n.push(e.slice(s)),n},this.iterateGraphemes=function(e){var t=0,n={next:function(){var n,s;return(s=this.nextBreak(e,t))<e.length?(n=e.slice(t,s),t=s,{value:n,done:!1}):t<e.length?(n=e.slice(t),t=e.length,{value:n,done:!1}):{value:void 0,done:!0}}.bind(this)};return"undefined"!=typeof Symbol&&Symbol.iterator&&(n[Symbol.iterator]=function(){return n}),n},this.countGraphemes=function(e){for(var t,n=0,s=0;(t=this.nextBreak(e,s))<e.length;)s=t,n++;return s<e.length&&n++,n},this}e._isChromium=!1,e._isChrome=!1,e._isFirefox=!1,e._isThunderbird=!1,e._isOpera=!1,e._isOldEdge=!1,e._isEdge=!1,e._isSafari=!1,e._isYaBrowser=!1,e._isUnsupportedChrome=!1,e._isUnsupportedFirefox=!1,e._isInitialized=!1,e._contructor();
/*! (C) Copyright 2020 LanguageTooler GmbH. All rights reserved. */
var s=function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function a(e){try{l(s.next(e))}catch(e){i(e)}}function o(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((s=s.apply(e,t||[])).next())}))};let r;!function(){let e;try{e=new RegExp("\\p{L}","u")}catch(t){e=/[a-zäöüß]/i}r=function(t){return e.test(t)}}();let i,a,o,l,c;!function(){const e="\b\t          ‏　",t=new RegExp("^["+e+"]$"),n=new RegExp("["+e+"]","g");i=function(e){return t.test(e)},a=function(e){return e.replace(n," ")}}(),function(){const e="​‌‍­⁠‪‫‬‭",t=new RegExp("^["+e+"]$"),n=new RegExp("["+e+"]"),s=new RegExp("["+e+"]","g");o=function(e){return t.test(e)},l=function(e){const t=e.match(n);return t?t.index:-1},c=function(e){return e.replace(s,"")}}();const g=function(){const e=/^[A-ZÈÉÊÁÀÂÓÒÔÚÙÛÍÌÎÄÜÖ]+[A-ZÈÉÊÁÀÂÓÒÔÚÙÛÍÌÎÄÜÖ\-!?#@=%().:;<>'’´`"”“*+,\s]+[A-ZÈÉÊÁÀÂÓÒÔÍÌÎÄÜÖ]$/;return function(t){return e.test(t)}}();let d,u;function m(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/`/g,"&#x60;").replace(/\//g,"&#x2F;")}function h(e){const t=[];return e.forEach((e=>{-1===t.indexOf(e)&&t.push(e)})),t}function _(e){return null===e||"object"!=typeof e?e:e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e):Array.isArray(e)?Array.from(e):Object.assign({},e)}function E(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);const t=Array.isArray(e)?[]:{};for(const n in e)t[n]=E(e[n]);return t}function p(e){const t=e.toString();return 1===t.length?"0"+t:t}!function(){let e,t;const n=/(?:\S+\s+){0,4}\S+$/,s=/^\S+(?:\s+\S+){0,4}/;try{e=new RegExp("^\\s*(-?\\p{L}+)*-?\\s*$","u"),t=new RegExp("^\\s*\\p{L}+(-\\p{L}+)*\\s*$","u")}catch(n){e=/^\s*(-?[a-zäöüß]+)*-?\s*$/i,t=/^\s*[a-zäöüß]+(-[a-zäöüß]+)*\s*$/i}d=(n,s,i=s)=>{const a=n.substring(s,i);if(!e.test(a))return null;let o=0===a.length||r(a[0]),l="-"===a[0],c=s;if(o||l)for(;c>0;){const e=n[c-1],t=r(e),s="-"===e;if(!t&&!s)break;if(s&&l)return null;c--,o=t,l=s}o=r(a[a.length-1]),l=a.endsWith("-");let g=i;if(o||l)for(;g<n.length;){const e=n[g],t=r(e),s="-"===e;if(!t&&!s)break;if(s&&l)return null;g++,o=t,l=s}const d=a.match(/\s+$/);d&&(g-=d[0].length);const u=n.substring(c,g);return t.test(u)?{start:c,end:g}:null},u=(e,t,r)=>{const i=d(e,t,r);if(!i)return null;const a=n.exec(e.substring(0,i.start).trim()),o=a?a[0]:"",l=s.exec(e.substring(i.end).trim()),c=l?l[0]:"";return{word:e.substring(i.start,i.end),position:i,beforeText:o,afterText:c}}}();let A=null,f=null;function S(e){return Intl.Segmenter?(A||(A=new Intl.Segmenter(void 0,{granularity:"grapheme"})),Array.from(A.segment(e)).map((e=>e.segment))):(f||(f=new t),f.splitGraphemes(e))}function I(){if("about:blank"===location.href||"about:srcdoc"===location.href)try{return(self.opener||self.parent).location.href}catch(e){}return location.href}function C(e,t=e){if(e.startsWith("about:blank"))return"blank";if(e.startsWith("about:srcdoc"))return"srcdoc";if(e.startsWith("file:"))return"file";e&&!/^([a-z\-]+:\/\/)/i.test(e)&&(e="http://"+e);try{return new URL(e).hostname}catch(e){return t}}const y=function(){const e=/^\w+\.$/;return(t,n)=>{if(!t.isSpellingError)return!1;let s=t.originalPhrase;if(e.test(s)&&(s=s.substring(0,s.length-1)),n.includes(s))return!0;if(function(e){const t=e.charAt(0);return t===t.toUpperCase()&&t!==t.toLowerCase()}(s)){const e=(r=s).charAt(0).toLowerCase()+r.substr(1);if(n.includes(e))return!0}var r;return!1}}();!function(){const e=/[\u0300-\u036f]/g,t=/\u0142/g,n=/\u00F8/g}();function T(e,t,n){return s(this,void 0,void 0,(function*(){if(t.signal)throw new Error("cannot fetchWithTimeout if 'signal' is already set");const s=new AbortController;t.signal=s.signal;const r=self.setTimeout((()=>s.abort()),n);return yield fetch(e,t).finally((()=>{clearTimeout(r)}))}))}
/*! (C) Copyright 2020 LanguageTooler GmbH. All rights reserved. */
class R{}const N=class{static init(e){this._instance=e}static isProductionEnvironment(){return this._instance.isProductionEnvironment()}static isRuntimeConnected(){return this._instance.isRuntimeConnected()}static getVersion(){return this._instance.getVersion()}static getTrackingId(){return this._instance.getTrackingId()}static shouldTrack(){return this._instance.shouldTrack()}static getType(){return this._instance.getType()}static getURL(e){return this._instance.getURL(e)}static getUILanguageCode(){return this._instance.getUILanguageCode()}static openWindow(e){return this._instance.openWindow(e)}static loadContentScripts(e,t){return this._instance.loadContentScripts(e,t)}static initializeLTAssistant(e,t={}){return this._instance.initializeLTAssistant(e,t)}static getPreferredLanguages(){return this._instance.getPreferredLanguages()}static startDictionarySync(){return this._instance.startDictionarySync()}static addWordToDictionary(e){return this._instance.addWordToDictionary(e)}static addWordsToDictionary(e){return this._instance.addWordsToDictionary(e)}static removeWordFromDictionary(e){return this._instance.removeWordFromDictionary(e)}static clearDictionary(){return this._instance.clearDictionary()}static updateDictionary(){return this._instance.updateDictionary()}static injectExecutor(){return this._instance.injectExecutor()}static destroyExecutor(){return this._instance.destroyExecutor()}static executeScript(e,t){return this._instance.executeScript(e,t)}static linkInputAreaProperties(e){return this._instance.linkInputAreaProperties(e)}static ping(){return this._instance.ping()}static loadSynonyms(e,t,n){return this._instance.loadSynonyms(e,t,n)}static abortSynonymsRequest(){return this._instance.abortSynonymsRequest()}static loadPhrases(e,t,n,s,r){return this._instance.loadPhrases(e,t,n,s,r)}static reportPhrase(e,t){return this._instance.reportPhrase(e,t)}static abortPhraseRequests(e){return this._instance.abortPhraseRequests(e)}static trackEvent(e,t){return this._instance.trackEvent(e,t)}static trackTextLength(e){return this._instance.trackTextLength(e)}static pageLoaded(e,t,n,s,r,i){return this._instance.pageLoaded(e,t,n,s,r,i)}static ltAssistantStatusChanged(e,t){return"number"==typeof e?this._instance.ltAssistantStatusChanged(e,t):this._instance.ltAssistantStatusChanged(e)}static check(e,t,n,s,r,i){return this._instance.check(e,t,n,s,r,i)}static isOptionsPageSupported(){return this._instance.isOptionsPageSupported()}static openOptionsPage(e,t){return this._instance.openOptionsPage(e,t)}static isFeedbackFormSupported(){return this._instance.isFeedbackFormSupported()}static openFeedbackForm(e,t,n){return this._instance.openFeedbackForm(e,t,n)}static openPremiumPage(e,t=0,n=0,s=0,r="",i){return this._instance.openPremiumPage(e,t,n,s,r,i)}static checkForPaidSubscription(){return this._instance.checkForPaidSubscription()}},L={EXTENSION_HEALTH_RECHECK_INTERVAL:3e3,UI_MODE_RECHECK_INTERVAL:6e4,ACCOUNT_STATUS_RECHECK_INTERVAL:36e5,EXTERNAL_CONFIG_RELOAD_INTERVAL:144e5,PING_INTERVAL:864e5,SYNC_USER_DATA_INTERVAL:864e5,IFRAME_INITILIZATION_RECHECK_INTERVAL:1500,DICTIONARY_SYNC_INTERVAL:72e5,RENDER_INTERVAL:300,TOOLBAR_DECREASE_SIZE_INTERVAL:900,CHECK_REQUEST_TIMEOUT:5e4,CHECK_THROTTLING_LIMIT:30,INSTALL_URL:"https://languagetool.org/webextension/welcome",UNINSTALL_URL:"https://languagetool.org/webextension/uninstall",USER_DATA_URL:"https://languagetool.org/webextension/user",BASE_SERVER_URL:"https://api.languagetool.org",BASE_REWRITING_SERVER_URL:"https://rewriting.languagetoolplus.com",get MAIN_SERVER_URL(){return`${this.BASE_SERVER_URL}/v2`},MAIN_FALLBACK_SERVER_URL:"https://api-fallback.languagetool.org/v2",PREMIUM_SERVER_URL:"https://api.languagetoolplus.com/v2",PREMIUM_FALLBACK_SERVER_URL:"https://languagetoolplus.com/api/v2",LOCAL_SERVER_URL:"http://localhost:8081/v2",FEEDBACK_SERVER_URL:"https://languagetool.org/send-feedback/",EXTERNAL_CONFIG_URL:"https://languagetool.org/webextension_config.json",CLIENT_LOGIN_URL:"https://languagetool.org/client-login",PING_URL:"https://languagetool.org/ping",WEBAPI_URL:"https://languagetool.org/webapi",SWITCH_TO_FALLBACK_SERVER_ERRORS:[502,503,504],MAIN_SERVER_RECHECK_INTERVAL:18e4,MIN_TEXT_LENGTH:4,SHORT_TEXT_MAX_LENGTH:50,MAX_TEXT_LENGTH:1e4,TEXT_LEVEL_MAX_LENGTH_PER_REQUEST:2e4,MAX_TEXT_LENGTH_PERFORMANCE_DEGRADATION:4e4,MAX_TEXT_LENGTH_PREMIUM:15e4,MAX_TEXT_LENGTH_CUSTOM_SERVER:Number.MAX_SAFE_INTEGER,PARAGRAPH_LEVEL_CHUNK_LENGTH:5e3,CHECK_DELAY:1400,CHECK_MAX_DELAY:3500,STOPPED_TYPING_TIMEOUT:2250,HOVER_DELAY:50,HOVER_MAX_DELAY:200,COLORS:{GRAMMAR:{UNDERLINE:"#f2b24c",BACKGROUND:"rgba(242,179,77,0.3)",EMPHASIZE:"rgba(241,179,76,0.1)"},STYLE:{UNDERLINE:"#8F7FFF",BACKGROUND:"rgba(142,128,255,0.2)",EMPHASIZE:"rgba(138,128,255,0.2)",TITLE:"#5C4CFF"},LONG_SENTENCE:{UNDERLINE:"#D2CBFF",BACKGROUND:"rgba(210,203,255,0.2)",EMPHASIZE:"rgba(210,203,255,0.1)"},IGNORED_RANGE:{UNDERLINE:"#00bbe6",BACKGROUND:"rgb(92, 222, 251, 0.2)",EMPHASIZE:"rgb(154, 232, 250, 0.1)"},SPELLING:{UNDERLINE:"#EB5757",BACKGROUND:"rgba(235,88,88,0.2)",EMPHASIZE:"rgba(239,88,88,0.1)"},SYNONYMS:{UNDERLINE:"#0042d7"},NEW_SENTENCE:{BACKGROUND:"rgba(30, 225, 151, 0.2)"},DISABLED:{UNDERLINE:"rgba(0, 0, 0, 0.2)",BACKGROUND:"rgba(0, 0, 0, 0.2)",EMPHASIZE:"rgba(0, 0, 0, 0.2)",TITLE:"rgba(0, 0, 0, 0.2)"}},get COLORS_ON_DARK(){return Object.assign(Object.assign({},this.COLORS),{DISABLED:{UNDERLINE:"rgba(255, 255, 255, 0.3)",BACKGROUND:"rgba(255, 255, 255, 0.3)",EMPHASIZE:"rgba(255, 255, 255, 0.3)",TITLE:"rgba(255, 255, 255, 0.3)"}})},MAX_FIXES_COUNT:5,MAX_EXCEPTION_COUNT:6,MAX_USAGE_COUNT_ONBOARDING:5,SUPPORTED_SYNONYM_LANGUAGES:["de","de-CH","ru","sv","pt","el","en","eo","it","fr","es","uk","sk","sl","pl","da","ro","nl","ca"],COUNTRY_COUPON_MAPPING:{UKRAINE:{countries:["UA","BY"],percent:50},"ITALY-DISCOUNT":{countries:["IT"],percent:20},"SPAIN-DISCOUNT":{countries:["ES"],percent:20},SOUTH_EUROPE:{countries:["RO","AL","GR","ME","EE","LT","LV","BG","CY","MT","SK","SI","RS","HR","XK","HU","MD","TR","PT"],percent:20},AFRICA:{countries:["NG","ET","EG","CD","CG","TZ","KE","UG","DZ","SD","MA","AO","MZ","TN","CI","DJ","SZ","MU","GQ","GA","BW","SO","CD","ER","MG"],percent:50},ASIA:{countries:["ID","PK","BD","VN","MM","PH","UZ","MY","NP","KZ","KH","UZ","TH","YE","SY","JO"],percent:50},LATIN_AMERICA:{countries:["PE","VE","EC","SV","DO","BO","SR","AR","HN","BZ","CR","PA","GT","NI","GY","UY","HT","JM","TT","CU"],percent:50},BRAZIL:{countries:["BR"],percent:50}},COUPON_INTERVAL:5184e6,PACKAGE:{BASIC:"Basic",PREMIUM:"Premium"},PICKY_RULES_THAT_ARE_CONSIDERED_ANNOYING:["EN_QUOTES","PASSIVE_VOICE","DASH_RULE","SENTENCE_FRAGMENT","PONCTUATION_DOUBLE","TOO_LONG_SENTENCE","COMETES_TIPOGRAFIQUES","APOSTROF_TIPOGRAFIC","FALSCHE_VERWENDUNG_DES_BINDESTRICHS","TYPOGRAFISCHE_ANFUEHRUNGSZEICHEN","TYPOGRAFISCHE_ANFUEHRUNGSZEICHEN_CH","TYPOGRAFISCHE_ANFUEHRUNGSZEICHEN_2","PUNCTUATION_PARAGRAPH_END","FINAL_STOPS","FINAL_PUNCTUATION","SMART_QUOTES","DASH_SPACE_RULES","HIPHEN_SPACE_RULES","BRAK_KROPKI","DYWIZ","CUDZYSLOW_DRUKARSKI","EINDE_ZIN_ONVERWACHT","BACKTICK","GEDACHTESTREEPJE","OPTIONAL_HYPHEN"],RULES_ALLOWED_TO_BE_SENT_TO_API:["OXFORD_SPELLING_Z_NOT_S"],MASCOT_NAME:"jeremy",ERRORS_THAT_CAN_BE_CORRECTED_ALL_AT_ONCE:[{ruleId:"FALSCHES_ANFUEHRUNGSZEICHEN",suggestions:[{match:/[„“]/,message:"Alle <lt-em>“</lt-em>…<lt-em>”</lt-em> zu <lt-em>„</lt-em>…<lt-em>“</lt-em> ändern"}]},{ruleId:"TYPOGRAFISCHE_ANFUEHRUNGSZEICHEN",suggestions:[{match:/[„“]/,message:"Alle <lt-em>&quot;</lt-em>…<lt-em>&quot;</lt-em> zu <lt-em>„</lt-em>…<lt-em>“</lt-em> ändern"},{match:/(^»)|(«$)/,message:"Alle <lt-em>&quot;</lt-em>…<lt-em>&quot;</lt-em> zu <lt-em>»</lt-em>…<lt-em>«</lt-em> ändern"}]},{ruleId:"TYPOGRAFISCHE_ANFUEHRUNGSZEICHEN_CH",suggestions:[{match:/[„“]/,message:"Alle <lt-em>&quot;</lt-em>…<lt-em>&quot;</lt-em> zu <lt-em>„</lt-em>…<lt-em>“</lt-em> ändern"},{match:/(^«)|(»$)/,message:"Alle <lt-em>&quot;</lt-em>…<lt-em>&quot;</lt-em> zu <lt-em>«</lt-em>…<lt-em>»</lt-em> ändern"}]},{ruleId:"TYPOGRAFISCHE_ANFUEHRUNGSZEICHEN_2",suggestions:[{match:/[‚‘]/,message:"Alle <lt-em>'</lt-em>…<lt-em>'</lt-em> zu <lt-em>‚</lt-em>…<lt-em>‘</lt-em> ändern"},{match:/[„“]/,message:"Alle <lt-em>'</lt-em>…<lt-em>'</lt-em> zu <lt-em>„</lt-em>…<lt-em>“</lt-em> ändern"}]},{ruleId:"TYPOGRAFISCHE_APOSTROPHE",suggestions:[{match:/’/,message:"Alle Apostrophe zu <lt-em>’</lt-em> ändern"}]},{ruleId:"EN_QUOTES",suggestions:[{match:/[“”]/,message:"Change all <lt-em>&quot;</lt-em>…<lt-em>&quot;</lt-em> to <lt-em>“</lt-em>…<lt-em>”</lt-em>"}]},{ruleId:"WRONG_APOSTROPHE",suggestions:[{match:/'/,message:"Use <lt-em>'</lt-em> for all bad apostrophes"},{match:/’/,message:"Use <lt-em>’</lt-em> for all bad apostrophes"}]},{ruleId:"PARAGRAF_LEERZEICHEN",suggestions:[{match:/§\u00A0/,message:"Alle Leerzeichen nach <lt-em>§</lt-em> ändern"}]}],MAX_FREEMIUM_REPHRASINGS_PER_DAY:3};
/*! (C) Copyright 2020 LanguageTooler GmbH. All rights reserved. */
class b{constructor(){this._eventHandlers=new Map}subscribe(e,t){this._eventHandlers.has(e)||this._eventHandlers.set(e,[]),this._eventHandlers.get(e).push(t)}fire(e,t){const n=this._eventHandlers.get(e);n&&n.forEach((e=>{try{e(t)}catch(e){console.error(e)}}))}destroy(){this._eventHandlers.clear()}}
/*! (C) Copyright 2020 LanguageTooler GmbH. All rights reserved. */
class v{}v.eventNames={localeChanged:"lt-i18nManager.localeChanged"};const P=class{static init(e){this._instance=e}static addEventListener(e,t){this._instance.addEventListener(e,t)}static setLocale(e){this._instance.setLocale(e)}static getMessage(e,t){return this._instance.getMessage(e,t)}};
/*! (C) Copyright 2020 LanguageTooler GmbH. All rights reserved. */
class O{static get LANGUAGES(){return this._languages||(this._languages=[{code:"ar",name:P.getMessage("ar")},{code:"ast-es",name:P.getMessage("ast")},{code:"be-by",name:P.getMessage("be")},{code:"br-fr",name:P.getMessage("br")},{code:"ca-es",name:P.getMessage("ca")},{code:"ca-es-valencia",name:P.getMessage("ca_ES_valencia")},{code:"da-dk",name:P.getMessage("da_DK")},{code:"de-at",name:P.getMessage("de_AT")},{code:"de-ch",name:P.getMessage("de_CH")},{code:"de-de",name:P.getMessage("de_DE")},{code:"el-gr",name:P.getMessage("el")},{code:"en-au",name:P.getMessage("en_AU")},{code:"en-ca",name:P.getMessage("en_CA")},{code:"en-gb",name:P.getMessage("en_GB")},{code:"en-nz",name:P.getMessage("en_NZ")},{code:"en-us",name:P.getMessage("en_US")},{code:"en-za",name:P.getMessage("en_ZA")},{code:"eo",name:P.getMessage("eo")},{code:"es",name:P.getMessage("es")},{code:"fa",name:P.getMessage("fa")},{code:"ga-ie",name:P.getMessage("ga")},{code:"fr",name:P.getMessage("fr")},{code:"gl-es",name:P.getMessage("gl")},{code:"it",name:P.getMessage("it")},{code:"ja-jp",name:P.getMessage("ja")},{code:"km-kh",name:P.getMessage("km")},{code:"nl",name:P.getMessage("nl")},{code:"no",name:P.getMessage("no")},{code:"pl-pl",name:P.getMessage("pl")},{code:"pt-ao",name:P.getMessage("pt_AO")},{code:"pt-br",name:P.getMessage("pt_BR")},{code:"pt-mz",name:P.getMessage("pt_MZ")},{code:"pt-pt",name:P.getMessage("pt_PT")},{code:"ro-ro",name:P.getMessage("ro")},{code:"ru-ru",name:P.getMessage("ru")},{code:"sk-sk",name:P.getMessage("sk")},{code:"sl-si",name:P.getMessage("sl")},{code:"sv",name:P.getMessage("sv")},{code:"ta-in",name:P.getMessage("ta")},{code:"tl-ph",name:P.getMessage("tl")},{code:"uk-ua",name:P.getMessage("uk")},{code:"zh-cn",name:P.getMessage("zh")}],this._languages.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),this._isSubscribed||(P.addEventListener(v.eventNames.localeChanged,(()=>this._languages=null)),this._isSubscribed=!0)),this._languages}static isLanguageVariant(e){return e.code.includes("-")}static getPrimaryLanguageCode(e){return e.split("-")[0]}static formatLanguageCode(e){const t=e.split("-");return 1===t.length?t[0]:2===t.length?t[0]+"-"+t[1].toUpperCase():t[0]+"-"+t[1].toUpperCase()+"-"+t[2]}static getUserLanguageCode(){for(const e of navigator.languages){if(e.includes("-")&&e.startsWith(navigator.language))return e}return navigator.language}static getUserLanguageCodes(){const e=Array.from(navigator.languages,(e=>this.getPrimaryLanguageCode(e).toLowerCase()));try{e.push(this.getPrimaryLanguageCode(N.getUILanguageCode()).toLowerCase())}catch(e){}return h(e)}static getPreferredLanguageVariant(e){const t={"en-in":"en-us","en-ie":"en-gb"},n=navigator.languages||[];for(let s of n){s=s.toLowerCase(),s=t[s]||s;for(const t of e){const e=t.toLowerCase();if(s.length>2&&s===e)return t}}return null}static getLanguagesForGeoIPCountry(){return new Promise((function(e,t){let n=!1;const s=self.setTimeout((()=>{n=!0,t(new Error("geoip timeout"))}),15e3);fetch("https://languagetool.org/webextension/init",{method:"GET",mode:"cors"}).then((e=>e.json())).then((t=>{if(!n){const n=(t.geoIpCountry||"").toUpperCase();e({geoIpLanguages:t.geoIpLanguages||[],geoIpCountry:n}),clearTimeout(s)}})).catch((e=>{console.error(e),n||(t(e),clearTimeout(s))}))}))}static getSynonymsRequestLanguage(e){let t=this.getPrimaryLanguageCode(e);return"de-ch"===e.toLowerCase()&&(t="de-CH"),L.SUPPORTED_SYNONYM_LANGUAGES.includes(t)?t:null}}O._languages=null,O._isSubscribed=!1,O.ALL_LANGUAGES=[{code:"af",name:"Afrikaans"},{code:"ak",name:"Akan"},{code:"am",name:"አማርኛ"},{code:"an",name:"aragonés"},{code:"ar",name:"عربي"},{code:"as",name:"অসমীয়া"},{code:"ast",name:"Asturianu"},{code:"be",name:"Беларуская"},{code:"bg",name:"Български"},{code:"bm",name:"Bamanankan"},{code:"bn",name:"বাংলা"},{code:"br",name:"Brezhoneg"},{code:"bs",name:"босански"},{code:"ca",name:"Català"},{code:"cs",name:"čeština"},{code:"cy",name:"Cymraeg"},{code:"da",name:"Dansk"},{code:"de",name:"Deutsch"},{code:"el",name:"Ελληνικά"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"es",name:"Español"},{code:"et",name:"Eesti keel"},{code:"eu",name:"Euskara"},{code:"fa",name:"فارسی"},{code:"fi",name:"suomi"},{code:"fj",name:"Vosa vaka-Viti"},{code:"fr",name:"Français"},{code:"ga",name:"Gaeilge"},{code:"gd",name:"Gàidhlig"},{code:"gl",name:"Galego"},{code:"gn",name:"Avañe'ẽ"},{code:"gu",name:"ગુજરાતી"},{code:"ha",name:"هَرْشَن هَوْسَ‎"},{code:"he",name:"עברית"},{code:"hi",name:"हिन्दी"},{code:"hr",name:"hrvatski"},{code:"hu",name:"magyar"},{code:"hy",name:"Հայերեն"},{code:"ia",name:"Interlingua"},{code:"id",name:"Bahasa Indonesia"},{code:"ig",name:"Ásụ̀sụ̀ Ìgbò"},{code:"is",name:"íslenska"},{code:"it",name:"Italiano"},{code:"ja",name:"日本語"},{code:"kk",name:"Қазақ"},{code:"km",name:"ខ្មែរ"},{code:"kn",name:"ಕನ್ನಡ"},{code:"ko",name:"한국어"},{code:"ku",name:"Kurdî"},{code:"ks",name:"كشمیری"},{code:"la",name:"Latina"},{code:"lg",name:"Luganda"},{code:"lo",name:"ພາສາລາວ"},{code:"lt",name:"Lietuvių"},{code:"lv",name:"Latviešu"},{code:"mg",name:"malagasy"},{code:"mi",name:"Māori"},{code:"ml",name:"മലയാളം"},{code:"mk",name:"Македонски"},{code:"mn",name:"Монгол"},{code:"mr",name:"मराठी"},{code:"ms",name:"Melayu"},{code:"my",name:"မြန်မာဘာသာ"},{code:"nb",name:"Norsk bokmål"},{code:"ne",name:"नेपाली"},{code:"nn",name:"Norsk nynorsk"},{code:"no",name:"Norsk"},{code:"nl",name:"Nederlands"},{code:"nr",name:"isiNdebele"},{code:"oc",name:"Occitano"},{code:"or",name:"ଓଡ଼ିଆ"},{code:"pa",name:"ਪੰਜਾਬੀ"},{code:"pl",name:"Polski"},{code:"ps",name:"پښتو"},{code:"pt",name:"Português"},{code:"rm",name:"rumantsch"},{code:"ro",name:"românesc"},{code:"ru",name:"Русский"},{code:"rw",name:"Ikinyarwanda"},{code:"sa",name:"संस्कृत"},{code:"si",name:"සිංහල"},{code:"sk",name:"slovenčina"},{code:"sl",name:"Slovenščina"},{code:"so",name:"Soomaali"},{code:"sr",name:"Српски"},{code:"ss",name:"siSwati"},{code:"st",name:"Sesotho"},{code:"sv",name:"Svenska"},{code:"ta",name:"தமிழ்"},{code:"te",name:"తెలుగు"},{code:"th",name:"ภาษาไทย"},{code:"tl",name:"Tagalog"},{code:"fil",name:"Filipino"},{code:"tr",name:"Türkçe"},{code:"ts",name:"Xitsonga"},{code:"tt",name:"Tatarça"},{code:"uk",name:"Українська"},{code:"ur",name:"اُردو"},{code:"uz",name:"Oʻzbek tili"},{code:"ve",name:"Tshivenḓa"},{code:"vi",name:"Tiếng Việt"},{code:"yo",name:"عِدعِ يوْرُبا"},{code:"zh",name:"中文"},{code:"zu",name:"isiZulu"}],O.POPULAR_LANGUAGES=["de","en","es","fr","nl","pl","pt","ru","uk","zh","it","hi"];
/*! (C) Copyright 2020 LanguageTooler GmbH. All rights reserved. */
var D=function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function a(e){try{l(s.next(e))}catch(e){i(e)}}function o(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((s=s.apply(e,t||[])).next())}))};class x{static get DEFAULT_SETTINGS(){return null===this.DEFAULT_SETTINGS_CACHED&&(this.DEFAULT_SETTINGS_CACHED={apiServerUrl:L.MAIN_SERVER_URL,autoCheck:!0,knownEmail:"",username:"",password:"",token:"",userId:null,dpaLevel:0,motherTongue:"",geoIpLanguages:[],geoIpCountry:"",preferredLanguages:[],enVariant:O.getPreferredLanguageVariant(["en-US","en-GB","en-AU","en-CA","en-NZ","en-ZA"])||"en-US",deVariant:O.getPreferredLanguageVariant(["de-DE","de-AT","de-CH"])||"de-DE",ptVariant:O.getPreferredLanguageVariant(["pt-PT","pt-BR","pt-MZ","pt-AO"])||"pt-BR",caVariant:"ca-ES",dictionary:[],hasSynonymsEnabled:!1,hasPickyModeEnabledGlobally:!1,openCardHotkey:"",isDictionarySynced:!1,ignoredRules:[],disabledDomains:[],disabledEditorGroups:[],disabledDomainsCapitalization:[],ignoreCheckOnDomains:[],autoCheckOnDomains:[],confirmedGPT3:!1,remainingRephrasingsAmount:null,remainingRephrasingsDate:null}),this.DEFAULT_SETTINGS_CACHED}static _combineObjects(e,t){const n=E(e);for(const e in n)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}static _dec2hex(e){return("0"+e.toString(16)).substr(-2)}static _generateUniqueId(){const e=new Uint8Array(8);return crypto.getRandomValues(e),Array.from(e,x._dec2hex).join("")}static _normalizeDomain(e=""){return e.toLowerCase().trim().replace(/^www\./,"")}static _isListContainsDomain(e,t){const n=x._normalizeDomain(t);return(e||[]).some((e=>{const t=x._normalizeDomain(e);return t===n||n.endsWith("."+t)}))}static getDefaultSettings(){return E(x.DEFAULT_SETTINGS)}static getDefaultPrivacySettings(){return _(x.DEFAULT_PRIVACY_SETTINGS)}constructor(){this._eventBus=new b,this._onReadyCallbacks=[]}addEventListener(e,t){this._eventBus.subscribe(e,t)}disableDomain(e){const t=x._normalizeDomain(e),n=this.getSettings(),s="object"==typeof n.disabledDomains?n.disabledDomains:[];return s.push(t),this.updateSettings({disabledDomains:s})}enableDomain(e){const t=x._normalizeDomain(e),n=this.getSettings();let s="object"==typeof n.disabledDomains?n.disabledDomains:[];return s=s.filter((e=>{const n=x._normalizeDomain(e);return n!==t&&!t.endsWith("."+n)})),this.updateSettings({disabledDomains:s})}disableEditorGroup(e,t){const n=x._normalizeDomain(e),s=this.getSettings(),r="object"==typeof s.disabledEditorGroups?s.disabledEditorGroups:[];return r.push({domain:n,editorGroupId:t}),this.updateSettings({disabledEditorGroups:r})}enableEditorGroup(e,t){const n=x._normalizeDomain(e),s=this.getSettings();let r="object"==typeof s.disabledEditorGroups?s.disabledEditorGroups:[];const i=r.filter((e=>!(e.domain===n&&e.editorGroupId===t)));return i.length!==r.length?this.updateSettings({disabledEditorGroups:i}):Promise.resolve()}enableDomainAndEditorGroup(e,t){return this.getCheckSettings(e,t).isEditorGroupDisabled&&this.enableEditorGroup(e,t),this.enableDomain(e)}disableCapitalization(e){const t=x._normalizeDomain(e),n=this.getSettings(),s="object"==typeof n.disabledDomainsCapitalization?n.disabledDomainsCapitalization:[];return s.push(t),this.updateSettings({disabledDomainsCapitalization:s})}enableCapitalization(e){const t=x._normalizeDomain(e),n=this.getSettings();let s="object"==typeof n.disabledDomainsCapitalization?n.disabledDomainsCapitalization:[];return s=s.filter((e=>{const n=x._normalizeDomain(e);return n!==t&&!t.endsWith("."+n)})),this.updateSettings({disabledDomainsCapitalization:s})}grantUnlimitedRephrasings(){return this.updateSettings({remainingRephrasingsAmount:null,remainingRephrasingsDate:null})}restrictRephrasings(){const{remainingRephrasingsAmount:e,remainingRephrasingsDate:t}=this.getSettings();return this.updateSettings({remainingRephrasingsAmount:null!=e?e:L.MAX_FREEMIUM_REPHRASINGS_PER_DAY,remainingRephrasingsDate:t||(new Date).toISOString()})}enablePaidSubscription(){return this.updateUIState({hasPaidSubscription:!0})}disablePaidSubscription(){return this.updateUIState({hasPaidSubscription:!1})}getIgnoredRuleIds(){return this.getSettings().ignoredRules.map((e=>e.id))}hasIgnoredRule(e){return this.getIgnoredRuleIds().includes(e)}addIgnoredRule(e){const{ignoredRules:t}=this.getSettings();this.hasIgnoredRule(e.id)||this.updateSettings({ignoredRules:[...t,e]})}removeIgnoredRule(e){return D(this,void 0,void 0,(function*(){if(this.hasIgnoredRule(e)){const t=this.getSettings().ignoredRules.filter((t=>t.id!==e));yield this.updateSettings({ignoredRules:t})}}))}destroy(){this._eventBus.destroy(),this._onReadyCallbacks=[]}}x.eventNames={settingsChanged:"lt-storageController.settingsChanged",userCredentialsChanged:"lt-storageController.userCredentialsChanged",configurationChanged:"lt-storageController.configurationChanged",privacySettingsChanged:"lt-storageController.privacySettingsChanged",uiStateChanged:"lt-storageController.uiStateChanged"},x.DEFAULT_SETTINGS_CACHED=null,x.DEFAULT_MANAGED_SETTINGS={apiServerUrl:"",loginUrl:"",disablePrivacyConfirmation:!1,disablePersonalDictionary:!1,disableIgnoredRules:!1},x.DEFAULT_CONFIGURATION={unsupportedDomains:[]},x.DEFAULT_PRIVACY_SETTINGS={allowRemoteCheck:!1},x.DEFAULT_STATISTICS={usageCount:0,sessionCount:0,appliedSuggestions:0,appliedSynonyms:0,hiddenErrors:[],firstVisit:null,lastActivity:null,ratingValue:null,premiumClicks:0,campaign:null},x.DEFAULT_UI_STATE={hasSeenPrivacyConfirmationDialog:!1,hasPaidSubscription:!1,hasRated:!1,hasUsedValidator:!1,hasSeenOnboarding:!1,isNewUser:!1,hasSeenNewOverleafTeaser:!1,hasSeenNewGoogleDocsTeaser:!1,hasSeenNewGoogleSlidesTeaser:!1,hasSeenGoogleDocsMenuBarHint:!1,lastChangelogNov2022Seen:null,changelogNov2022CountdownEnd:null,changelogNov2022Coupon:null,showRuleId:!1,dialogPosition:"default",countMode:"characters",hasSeenTurnOnMessagePopup:!1,isDarkModeEnabled:!1},x.DEFAULT_TEST_FLAGS={};class k{static init(e){this._instanceCtor=e}static create(){return this._instanceCtor()}}
/*! (C) Copyright 2020 LanguageTooler GmbH. All rights reserved. */
class U{static _update(e){return this._storageController.updateSettings({dictionary:e})}static init(e,t=[]){this._isInitialized||(this._storageController=e||k.create(),this._defaultWords=t,this._isInitialized=!0)}static get(){let e=this._storageController.getSettings().dictionary;return Array.isArray(e)||(e=[]),e=e.concat(this._defaultWords),e=h(e),e}static getSorted(){return this.get().sort(((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase())))}static add(e){const t=this.get();return t.push(e.trim()),N.addWordToDictionary(e),this._update(t)}static addBatch(e){const t=this.get();return e.forEach((e=>{e&&e.trim()&&!e.trim().match(/\s/)&&t.push(e.trim())})),N.addWordsToDictionary(e),this._update(t)}static remove(e){const t=this.get(),n=t.indexOf(e);return-1===n?Promise.resolve():(t.splice(n,1),N.removeWordFromDictionary(e),this._update(t))}static clear(){return N.clearDictionary(),this._update([])}}U._isInitialized=!1;
/*! (C) Copyright 2020 LanguageTooler GmbH. All rights reserved. */
class M{constructor(e=document){this._window=e.defaultView,this._document=e,this.clearCache()}_getElementCache(e){let t=this._elementCache.get(e);return t||(t={},this._elementCache.set(e,t)),t}clearCache(){this._documentVisibleBox=null,this._documentGap=null,this._documentScroll=null,this._elementCache=new WeakMap}_contains(e,t){return e&&e!==t&&e.contains(t)}_getComputedStyle(e,t,n){let s,r;return"object"==typeof t?(s=t,r=""):(s=n,r=t),s.computedStyle||(s.computedStyle=new Map),s.computedStyle.has(r)||s.computedStyle.set(r,this._window.getComputedStyle(e,r||null)),s.computedStyle.get(r)}getComputedStyle(e,t=""){return this._getComputedStyle(e,t,this._getElementCache(e))}_getComputedStyleMap(e,t){return e.computedStyleMap?(t.computedStyleMap||(t.computedStyleMap=e.computedStyleMap()),t.computedStyleMap):null}getComputedStyleMap(e){return this._getComputedStyleMap(e,this._getElementCache(e))}getInlineStyle(e,t){return e.style.getPropertyValue(t)}getStyle(e,t,n=""){return this.getStyles(e,[t],n)[t]}getStyles(t,n,s=""){let r=null,i={};const a=this._getElementCache(t);for(const o of n)if(r=r||this._getComputedStyle(t,s,a),"line-height"===o||"lineHeight"===o)i[o]=this.getInlineStyle(t,o)||r[o]||"";else if("font"!==o||r[o])if("transform"===o&&t instanceof SVGGElement&&e.isSafari()&&t.hasAttribute("transform")){const e=z(t);i[o]=`matrix(${e.a}, ${e.b}, ${e.c}, ${e.d}, ${e.e}, ${e.f})`}else i[o]="zoom"===o?r[o]||"1":r[o]||"";else{const e=r["font-style"],n=r["font-variant"],s=r["font-weight"],a=r["font-size"],l=this.getInlineStyle(t,"line-height")||r["line-height"]||"",c=r["font-family"];i[o]=`${e} ${n} ${s} ${a} ${l?"/ "+l:""} ${c}`}return i}getExactStyle(e,t){return this.getExactStyles(e,[t])[t]}getExactStyles(e,t){const n=this._getElementCache(e),s=this._getComputedStyleMap(e,n);if(s){const e={};for(const n of t){const t=s.get(n);t?"number"==typeof(r=t).value&&"string"==typeof r.unit?"number"===t.unit?e[n]=t.value.toString():e[n]=t.value+t.unit:e[n]=t.toString():e[n]=""}return e}return this.getStyles(e,t);var r}setStyles(e,t,n=!1){Array.isArray(e)||(e=[e]);for(const s of e)for(const e in t){let r=t[e].trim();const i=n||M.IMPORTANT_REG_EXP.test(r);r=r.replace(M.IMPORTANT_REG_EXP,""),s.style.setProperty(e,r,i?"important":"")}}copyStyles(e,t,n,s=!1){const r=this.getStyles(e,n);this.setStyles(t,r,s)}resetStyles(e,t,n=!1){Array.isArray(e)||(e=[e]);let s="";for(const e in t){let r=t[e].trim();n&&!M.IMPORTANT_REG_EXP.test(r)&&(r+=" !important"),s+=`${e}: ${r};`}for(const t of e)t.style.cssText=s}removeStyle(e,t){Array.isArray(e)||(e=[e]),this.removeStyles(e,[t])}removeStyles(e,t){Array.isArray(e)||(e=[e]);for(const n of e)for(const e of t)n.style.removeProperty(e)}_getBoundingClientRect(e,t){return t.boundingClientRect||(t.boundingClientRect=E(e.getBoundingClientRect())),t.boundingClientRect}getRelativeClientRect(e,t){const n=this._getBoundingClientRect(e,this._getElementCache(e)),s=this._getBoundingClientRect(t,this._getElementCache(t)),r=n.top-s.top,i=n.left-s.left,a=n.width,o=n.height;return{top:r,right:i+a,bottom:r+o,left:i,width:a,height:o}}_getBorderBox(e,t,n,s){const r="borderBox"+(t?"WithScroll":"")+(n?"WithScale":"");if(!s[r]){const i=this._getBoundingClientRect(e,s);let{top:a,left:o,width:l,height:c}=i;if(n){const t=this.getZoom(e);a*=t,o*=t,l*=t,c*=t}else{const t=this._getScaleFactor(e,s);l/=t.x,c/=t.y}if(t){const t=this.getDocumentScroll();if(a+=t.top,o+=t.left,this._document.body&&this._contains(this._document.body,e)){const e=this.getDocumentGap();a-=e.top,o-=e.left}}s[r]={top:a,right:o+l,bottom:a+c,left:o,width:l,height:c}}return s[r]}getBorderBox(e,t=!0,n=!0){return this._getBorderBox(e,t,n,this._getElementCache(e))}_getPaddingBox(e,t,n,s){const r="paddingBox"+(t?"WithScroll":"")+(n?"WithScale":"");if(!s[r]){let{top:i,left:a,width:o,height:l}=this._getBorderBox(e,t,n,s),c={x:1,y:1};n&&(c=this._getScaleFactor(e,s));const g=n?this._getZoom(e,s):1,d=this._getComputedStyle(e,s),u=(parseFloat(d["border-top-width"])||0)*c.y*g,m=(parseFloat(d["border-right-width"])||0)*c.x*g,h=(parseFloat(d["border-bottom-width"])||0)*c.y*g,_=(parseFloat(d["border-left-width"])||0)*c.x*g;let E=0,p=0;if("BackCompat"!==this._document.compatMode||e!==this._document.body||e!==this._document.scrollingElement){let{width:t,height:n}=this._getClientWidthAndHeight(e,s);t=t*c.x*g,n=n*c.y*g,E=o-_-t-m,p=l-u-n-h,E<1&&(E=0),p<1&&(p=0)}i+=u,a+=_,o=o-_-E-m,l=l-u-p-h,this._isRTL(e,s)&&(a+=E),s[r]={top:i,right:a+o,bottom:i+l,left:a,width:o,height:l,border:{top:u,right:m,bottom:h,left:_}}}return s[r]}getPaddingBox(e,t=!0,n=!0){return this._getPaddingBox(e,t,n,this._getElementCache(e))}_getContentBox(e,t,n,s){const r="contentBox"+(t?"WithScroll":"")+(n?"WithScale":"");if(!s[r]){let{top:i,left:a,width:o,height:l,border:c}=this._getPaddingBox(e,t,n,s),g={x:1,y:1};n&&(g=this._getScaleFactor(e,s));const d=n?this._getZoom(e,s):1,u=this._getComputedStyle(e,s),m=(parseFloat(u["padding-top"])||0)*g.y*d,h=(parseFloat(u["padding-right"])||0)*g.x*d,_=(parseFloat(u["padding-bottom"])||0)*g.y*d,E=(parseFloat(u["padding-left"])||0)*g.x*d;i+=m,a+=E,o=o-E-h,l=l-m-_,s[r]={top:i,right:a+o,bottom:i+l,left:a,width:o,height:l,border:c,padding:{top:m,right:h,bottom:_,left:E}}}return s[r]}getContentBox(e,t=!0,n=!0){return this._getContentBox(e,t,n,this._getElementCache(e))}_getClientWidthAndHeight(e,t){let n=e.clientWidth,s=e.clientHeight;if(0===n&&0===s&&"offsetWidth"in e){const r=this._getComputedStyle(e,t);"inline"===r.display&&(n=e.offsetWidth-parseInt(r["border-left-width"])-parseInt(r["border-right-width"]),s=e.offsetHeight-parseInt(r["border-top-width"])-parseInt(r["border-bottom-width"]))}return{width:n,height:s}}_getScrollDimensions(e,t,n){const s="scrollDimensions"+(t?"WithScale":"");if(!n[s]){let r=e.scrollWidth,i=e.scrollHeight;if(0===r&&(0===i||0===e.clientHeight)){const t=this._getClientWidthAndHeight(e,n);r=t.width,i=t.height}if(t){const t=this._getScaleFactor(e,n),s=this._getZoom(e,n);r=r*t.x*s,i=i*t.y*s}n[s]={width:r,height:i}}return n[s]}getScrollDimensions(e,t=!0){return this._getScrollDimensions(e,t,this._getElementCache(e))}_getScrollPosition(e,t,n,s){const r="scrollPosition"+(t?"WithScale":"")+(n?"WithZoom":"");if(!s[r]){let i={x:1,y:1};t&&(i=this._getScaleFactor(e,s));const a=n?this._getZoom(e,s):1,o=e===this._document.body&&"BackCompat"===this._document.compatMode,l=o?0:e.scrollTop*i.y*a,c=o?0:e.scrollLeft*i.x*a;s[r]={top:l,left:c}}return s[r]}getScrollPosition(e,t=!0,n=t){return this._getScrollPosition(e,t,n,this._getElementCache(e))}getScaleFactor(e){return this._getScaleFactor(e,this._getElementCache(e))}_getScaleFactor(t,n){if(void 0===n.scaleFactor){if(t instanceof SVGElement){if(e.isFirefox()||e.isThunderbird())return{x:1,y:1};let n=1;const s=t.getAttribute("transform")||"",r=/scale\((\d+(\.\d+)?)\)/.exec(s);return r&&(n=+r[1]),{x:n,y:n}}{const e=this._getBoundingClientRect(t,n),s=t.offsetWidth,r=t.offsetHeight;n.scaleFactor={x:1,y:1},e.width>0&&s>0&&Math.abs(e.width-s)>1&&(n.scaleFactor.x=e.width/s),e.height>0&&r>0&&Math.abs(e.height-r)>1&&(n.scaleFactor.y=e.height/r)}}return n.scaleFactor}_getZoom(t,n){if(e.isFirefox()||e.isThunderbird())return 1;if("number"!=typeof n.zoom){let e=1,s=t;for(;s&&s!==this._document.documentElement;){e*=+this.getStyle(s,"zoom"),s=s.parentElement}n.zoom=e}return n.zoom}getZoom(e){return this._getZoom(e,this._getElementCache(e))}_getStackingContextWithZIndex(e){const t=this.getComputedStyle(e),n=parseInt(t.zIndex||"");if(isNaN(n))return null;if(t.position&&M.NON_STATIC_POSITIONS.indexOf(t.position)>-1)return{zIndex:n};if(e.parentElement){const t=this.getComputedStyle(e.parentElement);if("flex"===t.display||"grid"===t.display)return{zIndex:n}}return null}getZIndex(e,t=this._document.documentElement){let n="auto",s=e;if(!s.ownerDocument)return"auto";const r=s.ownerDocument.defaultView.Element,i=s.ownerDocument.defaultView.ShadowRoot;for(;s&&s!==this._document&&s!==t&&s instanceof r;){const e=this._getStackingContextWithZIndex(s);e&&(n=e.zIndex),s=s.parentNode instanceof i?s.parentNode.host:s.parentElement}return n}_isRTL(e,t){return"boolean"!=typeof t.isRTL&&(t.isRTL="rtl"===this.getStyle(e,"direction")),t.isRTL}isRTL(e){return this._isRTL(e,this._getElementCache(e))}isStackingContext(e){const t=this.getComputedStyle(e);return!!(t.position&&M.NON_STATIC_POSITIONS.indexOf(t.position)>-1)||("none"!==t.transform||"none"!==t.filter||"none"!==t.clipPath||"none"!==t.perspective||Number(t.opacity)<1)}_getTextClientRects(e){const t=this._document.createRange();return t.setStart(e.node,e.start),t.setEnd(e.node,e.end),Array.from(t.getClientRects())}getTextBoundingBoxes(e,t,n=!0){Array.isArray(e)||(e=[e]);let s=[],r=0,i=0;if(n){const e=this.getDocumentScroll();if(r+=e.top,i+=e.left,this._document.body&&this._contains(this._document.body,t)){const e=this.getDocumentGap();r-=e.top,i-=e.left}}for(const t of e)try{const e=this._getTextClientRects(t);for(const t of e){if(t.width<M.MIN_TEXT_BOX_WIDTH)continue;const e=s[s.length-1],n=t.top+r,a=t.right+i,o=t.bottom+r,l=t.left+i,c=t.width,g=t.height;e&&e.right===l&&e.top===n&&e.bottom===o&&e.height===g?(e.right=a,e.width=e.width+c):s.push({top:n,right:a,bottom:o,left:l,width:c,height:g})}}catch(e){}return s}getRelativeTextBoundingBoxes(e,t,n=this.getScrollPosition(t)){Array.isArray(e)||(e=[e]);let s=[];const r=this.getPaddingBox(t,!1,!1),i=r.left-n.left,a=r.top-n.top;for(const t of e)try{const e=this._getTextClientRects(t);for(const t of e){if(t.width<M.MIN_TEXT_BOX_WIDTH)continue;const e=s[s.length-1],n=t.top-a,r=t.right-i,o=t.bottom-a,l=t.left-i,c=t.width,g=t.height;e&&e.right===l&&e.top===n&&e.bottom===o&&e.height===g?(e.right=r,e.width=e.width+c):s.push({top:n,right:r,bottom:o,left:l,width:c,height:g})}}catch(e){console.error("LT range error",e)}const o=this.getScaleFactor(t);for(const e of s)e.top=Math.round(e.top/o.y),e.right=Math.round(e.right/o.x),e.bottom=Math.round(e.bottom/o.y),e.left=Math.round(e.left/o.x),e.width=e.right-e.left,e.height=e.bottom-e.top;return s}getRelativeTextBoundingBox(e,t){const n=this.getRelativeTextBoundingBoxes(e,t),s=Math.min(...n.map((e=>e.top))),r=Math.max(...n.map((e=>e.right))),i=Math.max(...n.map((e=>e.bottom))),a=Math.min(...n.map((e=>e.left)));return{top:s,right:r,bottom:i,left:a,width:r-a,height:i-s}}_hasRelativePosition(e,t){const n=this._getComputedStyle(e,t).position||"static";return M.NON_STATIC_POSITIONS.indexOf(n)>-1}getDocumentGap(){if(!this._documentGap&&(this._documentGap={top:0,left:0},this._document.body&&this._hasRelativePosition(this._document.body,this._getElementCache(this._document.body)))){const t=this.getBorderBox(this._document.documentElement),n=this.getBorderBox(this._document.body);let s=this._document.documentElement.offsetTop,r=this._document.documentElement.offsetLeft;if(e.isFirefox()||e.isThunderbird()){let e=null;0===s&&(e=this.getComputedStyle(this._document.documentElement),s=parseInt(e["margin-top"])||0),0===r&&(e=e||this.getComputedStyle(this._document.documentElement),r=parseInt(e["margin-left"])||0)}const i=n.top-t.top+s,a=n.left-t.left+r,o=this.getComputedStyle(this._document.body),l=parseFloat(o["border-top-width"])||0,c=parseFloat(o["border-left-width"])||0;this._documentGap={top:i+l,left:a+c}}return this._documentGap}getDocumentVisibleBox(){if(!this._documentVisibleBox){const t=this.getDocumentScroll();let n=this._document.documentElement.clientHeight,s=this._document.documentElement.clientWidth;e.isThunderbird()&&(n=self.innerHeight,s=self.innerWidth),this._documentVisibleBox={top:t.top,right:t.left+s,bottom:t.top+n,left:t.left,width:s,height:n}}return this._documentVisibleBox}getDocumentScroll(){if(!this._documentScroll){const e=this._document.documentElement&&this._document.documentElement.scrollTop||this._document.body&&this._document.body.scrollTop||0,t=this._document.documentElement&&this._document.documentElement.scrollLeft||this._document.body&&this._document.body.scrollLeft||0;this._documentScroll={top:e,left:t}}return this._documentScroll}}M.IMPORTANT_REG_EXP=/!important$/,M.TRANSFORM_MATRIX_REG_EXP=/(?:matrix|scale)\(([\d\.]+),/,M.NON_STATIC_POSITIONS=["relative","fixed","absolute","sticky"],M.MIN_TEXT_BOX_WIDTH=.1;var w=n(412),G=n.n(w);function B(){return G()}function F(e=25,t=null){return new Promise((n=>setTimeout((()=>n(t)),e)))}function W(e,t){let n=null,s=!1;const r=()=>{n=function(e,t){let n=null,s=!1;const r=self.setTimeout((()=>{s||(n=requestAnimationFrame((()=>e())))}),t);return{destroy:()=>{s=!0,clearTimeout(r),n&&cancelAnimationFrame(n)}}}((()=>{s||(e(),r())}),t)};return r(),{destroy:()=>{s=!0,n&&(n.destroy(),n=null)}}}function H(e,t){"string"==typeof e&&(e=document.querySelector(e)),"string"==typeof t&&(t={key:t}),t.isHTML?e.innerHTML=P.getMessage(t.key,t.interpolations):t.attr?e[t.attr]=P.getMessage(t.key,t.interpolations):e.textContent=P.getMessage(t.key,t.interpolations)}function V(e){Array.from(e.querySelectorAll("[data-t]")).forEach((e=>{H(e,e.getAttribute("data-t"))})),Array.from(e.querySelectorAll("[data-t-placeholder]")).forEach((e=>{H(e,{key:e.getAttribute("data-t-placeholder"),attr:"placeholder"})})),Array.from(e.querySelectorAll("[data-t-html]")).forEach((e=>{H(e,{key:e.getAttribute("data-t-html"),isHTML:!0})})),Array.from(e.querySelectorAll("[data-t-title]")).forEach((e=>{H(e,{key:e.getAttribute("data-t-title"),attr:"title"})})),Array.from(e.querySelectorAll("[data-t-attr]")).forEach((e=>{const[t,n]=(e=>{const t=String(e.getAttribute("data-t-attr"));try{const e=JSON.parse(t);if((e=>Array.isArray(e)&&"string"==typeof e[0]&&"string"==typeof e[1]&&2===e.length)(e))return e;throw Error()}catch(e){return["",""]}})(e);t&&n&&H(e,{key:n,attr:t})}))}(()=>{const e=(e,t,n,s)=>{const r=e.ownerDocument;let i=r.elementFromPoint(n,s);if(!i)return!1;if(e===i||e.contains(i))return!0;if(!t.length)return!1;const a=t.find((e=>e.contains(i)));return a&&(i=r.elementsFromPoint(n,s).find((e=>!a.contains(e)))||null),Boolean(i&&(e===i||e.contains(i)))}})();function Z(e,t){let n=1;const s=new M(e.ownerDocument),r=W((()=>{if(n-=.08,n<=0)return r.destroy(),void(t&&t());s.setStyles(e,{opacity:n+" !important"})}),16)}function Y(e,t,n={}){const s=new CustomEvent(t,{detail:n,cancelable:!0});return e.dispatchEvent(s)}(()=>{let e;const t=[]})(),(()=>{let e;const t=[]})();function K(e){if(e.ownerDocument&&e.ownerDocument.contains(e))return!0;for(var t=e;t&&t.parentNode;){if(t.parentNode===document)return!0;t.parentNode instanceof DocumentFragment?t.parentNode.host:t.parentNode}return!1}function $(e,t,n,s=Date.now().toString()){const r=self,i=void 0!==r.screenLeft?r.screenLeft:r.screenX,a=void 0!==r.screenTop?r.screenTop:r.screenY,o=r.innerWidth?r.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,l=r.innerHeight?r.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,c=o/r.screen.availWidth,g=(o-t)/2/c+i,d=(l-n)/2/c+a;return r.open(e,s,`\n      scrollbars=yes,\n\t  resizable=yes,\n      width=${t/c},\n      height=${n/c},\n      top=${d},\n      left=${g}\n      `)}function z(e){const t={a:1,b:0,c:0,d:1,e:0,f:0};for(let n=0;n<e.transform.baseVal.length;n++){const s=e.transform.baseVal[n];1===s.type?(t.a=s.matrix.a,t.b=s.matrix.b,t.c=s.matrix.c,t.d=s.matrix.d,t.e=s.matrix.e,t.f=s.matrix.f):2===s.type?(t.e=s.matrix.e,t.f=s.matrix.f):3===s.type?(t.a=s.matrix.a,t.d=s.matrix.d):5===s.type?t.b=s.matrix.b:6===s.type&&(t.c=s.matrix.c)}return t}const X=function(){let e,t=null;const n=t=>{t.origin.match(/^chrome|moz|safari/)&&e(t.data)};return function(s,r){const i=self;let a=null;e=function(e){const[t,n]=JSON.parse(e);t&&n&&(o(),r(t,n))};const o=function(){t&&clearInterval(t),i.removeEventListener("message",n);try{B().storage.local.remove("managedLoginCredentials")}catch(e){}try{a&&a.close()}catch(e){}};o(),t=self.setInterval((()=>{B().storage.local.get("managedLoginCredentials").then((t=>{t.managedLoginCredentials&&e(t.managedLoginCredentials)})).catch((()=>null))}),400),i.addEventListener("message",n);const l=B().runtime.getURL("/welcome/managedLoginRedirectUri.html"),c=s+(s.includes("?")?"&":"?")+"redirect_uri="+encodeURIComponent(l);a=$(c,640,480)}}(),j=function(){let e,t=null;const n=t=>{e(t.data)};return function(s,r){const i=self;let a=null;e=function(e){const[t,n]=JSON.parse(e);t&&n&&(o(),r(t,n))};const o=function(){t&&clearInterval(t),i.removeEventListener("message",n);try{B().storage.local.remove("loginCredentials")}catch(e){}try{a&&a.close()}catch(e){}};o(),t=self.setInterval((()=>{B().storage.local.get("loginCredentials").then((t=>{t.loginCredentials&&e(t.loginCredentials)})).catch((()=>null))}),400),i.addEventListener("message",n);const l=B().runtime.getURL("/welcome/loginRedirectUri.html"),c=s+(s.includes("?")?"&":"?")+"callback_uri="+encodeURIComponent(l);a=$(c,640,480,"lt-login-"+Date.now())}}();let q,J;!function(){const e=/ /g,t=/^#(?:[0-9a-f]{3}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{8})$/i,n=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,s=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,r=/^rgba?\(/i,i=/^rgba?\((\d+),(\d+),(\d+)(?:,(\d*(?:\.\d+)?))?\)/i,a=/^hsla?\(/i,o=/^hsla?\(\d+,\d+%,(\d+)%(?:,(\d*(?:\.\d+)?))?\)/i;function l(e,t,n){const s=Math.max(e,t,n)/255,r=Math.min(e,t,n)/255;return Math.round((s+r)/2*100)}q=function(l){if("string"!=typeof l)return 3===l.length?1:l[3];if(l=l.replace(e,""),t.test(l)){const e=n.exec(l)||s.exec(l);if(e&&e[4])return parseInt(2===e[4].length?e[4]:e[4]+e[4],16)/255}else if(r.test(l)){const e=i.exec(l);if(e&&e[4])return+e[4]}else if(a.test(l)){const e=o.exec(l);if(e&&e[2])return+e[2]}return 1},J=function(c){if("string"!=typeof c)return l(c[0],c[1],c[2]);if(c=c.replace(e,""),t.test(c)){const e=n.exec(c)||s.exec(c);if(e){return l(parseInt(2===e[1].length?e[1]:e[1]+e[1],16),parseInt(2===e[2].length?e[2]:e[2]+e[2],16),parseInt(2===e[3].length?e[3]:e[3]+e[3],16))}}else if(r.test(c)){const e=i.exec(c);if(e){return l(+e[1],+e[2],+e[3])}}else if(a.test(c)){const e=o.exec(c);if(e)return+e[1]}return 100}}();Array.from({length:16},((e,t)=>t.toString(16)));
/*! (C) Copyright 2020 LanguageTooler GmbH. All rights reserved. */
var Q,ee=function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function a(e){try{l(s.next(e))}catch(e){i(e)}}function o(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((s=s.apply(e,t||[])).next())}))},te=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};class ne{static getServerBaseUrl(e,t=!1,n=!0){const s=n&&(t?this._useFallbackServerForParagraphLevelRequests:this._useFallbackServerForTextLevelRequests)&&!e.apiServerUrl;return e.apiServerUrl&&!this._isLanguageToolServer(e.apiServerUrl)?e.apiServerUrl:e.isPremium||e.user||e.apiServerUrl===L.PREMIUM_SERVER_URL?s?L.PREMIUM_FALLBACK_SERVER_URL:L.PREMIUM_SERVER_URL:s?L.MAIN_FALLBACK_SERVER_URL:L.MAIN_SERVER_URL}static _getServerFullUrl(e,t=!1,n=!1){let s=this.getServerBaseUrl(e,t);return s+=s.endsWith("/")?"check":"/check",s+="?c=1",t&&!1===e.useParagraphLevelCaching||(s+=`&instanceId=${encodeURIComponent(e.instanceId)}`),n&&(s+="&languageChanged=true"),e.version&&(s+=`&v=${encodeURIComponent(e.version)}`),s}static _abortCheckRequest(e){this._textLevelAbortControllers.has(e)&&(this._textLevelAbortControllers.get(e).abort(),this._textLevelAbortControllers.delete(e))}static _abortParagraphLevelCheckRequest(e){this._paragraphLevelAbortControllers.has(e)&&(this._paragraphLevelAbortControllers.get(e).abort(),this._paragraphLevelAbortControllers.delete(e))}static _abortLanguageDetectionRequest(e){this._languageDetectionAbortControllers.has(e)&&(this._languageDetectionAbortControllers.get(e).abort(),this._languageDetectionAbortControllers.delete(e))}static _prepareText(e){return e.replace(this.ZWNJ_REGEXP,this.ZWS)}static _joinInChunks(e,t=L.PARAGRAPH_LEVEL_CHUNK_LENGTH){const n=[];let s=0,r=[];return e.forEach((e=>{s>t&&(s=0,r=[]),r.push(e),s+=e.text.length,n.includes(r)||n.push(r)})),n}static _getRequestData(e,t,n){const s=new URLSearchParams,r={text:e};n.recipientInfo&&(n.recipientInfo.address||n.recipientInfo.fullName)&&(r.metaData={EmailToAddress:n.recipientInfo.address,FullName:n.recipientInfo.fullName}),s.append("data",JSON.stringify(r));const i=Boolean(n.isPremium||n.apiServerUrl&&n.apiServerUrl.startsWith(L.PREMIUM_SERVER_URL)||n.apiServerUrl&&!this._isLanguageToolServer(n.apiServerUrl));if(i&&n.user&&"password"in n.user?(s.append("username",n.user.email),s.append("password",n.user.password)):i&&n.user&&"token"in n.user&&(s.append("username",n.user.email),s.append("tokenV2",n.user.token)),s.append("textSessionId",n.instanceId),n.isPremium||s.append("enableHiddenRules","true"),n.motherTongue&&s.append("motherTongue",n.motherTongue),"normal"!==n.checkLevel&&s.append("level",n.checkLevel.replace("hidden-","")),t)s.append("language",t.code);else{s.append("language","auto"),s.append("noopLanguages",n.preferredLanguages.join(",")),s.append("preferredLanguages",n.preferredLanguages.join(","));const e=this._getPreferredVariants(n.languageVariants.en,n.languageVariants.de,n.languageVariants.pt,n.languageVariants.ca);e.length>0&&s.append("preferredVariants",e.toString())}const a=["WHITESPACE_RULE"].concat(n.disabledRules.filter((e=>L.RULES_ALLOWED_TO_BE_SENT_TO_API.includes(e))));return s.append("disabledRules",a.join(",")),n.userAgent&&s.append("useragent",n.userAgent),s}static _getPreferredVariants(e,t,n,s){const r=[];return e&&r.push(e),t&&r.push(t),n&&r.push(n),s&&r.push(s),r}static _getCheckRequestData(e,t,n){const s=this._getRequestData(e,t,n);return s.append("mode","textLevelOnly"),s}static _getParagraphLevelCheckRequestData(e,t,n,s){const r=this._getRequestData(e,t,n);return r.append("mode","allButTextLevelOnly"),r.append("allowIncompleteResults",String(s)),r}static _sendRequest(e,t,n=L.CHECK_REQUEST_TIMEOUT){return ee(this,void 0,void 0,(function*(){const s=fetch(e,t).catch((t=>{throw"AbortError"===t.name?{reason:"AbortError",status:0,response:t.message||""}:{reason:"ConnectionError",status:0,url:e.replace(/\?.*/,""),response:t.message||""}})).then(this._checkForException).then((e=>e.json())),r=new Promise(((t,s)=>{setTimeout((()=>{s({reason:"TimeoutError",status:0,url:e.replace(/\?.*/,""),response:""})}),n)}));return Promise.race([s,r])}))}static _isConnectionOrServerIssue(e){return L.SWITCH_TO_FALLBACK_SERVER_ERRORS.includes(e.status)||["ConnectionError","TimeoutError"].includes(e.reason)}static _getGraphemesCount(e,t,n=0){for(let s=n;s<e.length;s++){if(t<=0)return s-n;t-=e[s].length}return e.length-n}static _getCodepointsCount(e,t,n=0){let s=0;for(let r=n;r<Math.min(e.length,n+t);r++)s+=e[r].length;return s}static _correctMatches(e,t,n){if(t!==n){const s=S(t),r=S(n);for(const t of e){const e=ne._getGraphemesCount(s,t.offset),n=ne._getGraphemesCount(s,t.length,e);t.offset=ne._getCodepointsCount(r,e),t.length=ne._getCodepointsCount(r,n,e)}}return e}static _getLeftText(e,t,n,s=15){let r=Math.max(t-s,0);if(n){const n=e.lastIndexOf("\n",t);n>=r&&(r=n+1)}let i=e.substring(r,t).replace(this.NON_ALPHANUMERIC_AT_BEGINNING_REGEXP,"");return 0===r||n&&"\n"===e[r-1]||(i="..."+i),i}static _getRightText(e,t,n,s=15){let r=Math.min(t+s,e.length);if(n){const n=e.indexOf("\n",t);-1!==n&&n<=r&&(r=n)}let i=e.substring(t,r).replace(this.NON_ALPHANUMERIC_AT_END_REGEXP,"");return r===e.length||n&&"\n"===e[r]||(i+="..."),i}static _transformMatches(e,t,n,s=!1){return e.map((e=>{const r=e.rule.id.startsWith("DB_"),i=this.SPELLING_RULES_ID.some((t=>e.rule.id.includes(t))),a=this.STYLE_ISSUE_TYPES.some((t=>e.rule.issueType===t)),o="typographical"===e.rule.issueType&&"CASING"!==e.rule.category.id||"PUNCTUATION"===e.rule.category.id||"TYPOGRAPHY"===e.rule.category.id||e.rule.category.id.includes("KOMMA"),l=Boolean(e.rule.tags&&e.rule.tags.includes("picky")),c=t.substr(e.offset,e.length),g=`${ne._getLeftText(t,e.offset,s)}|${c}|${ne._getRightText(t,e.offset+e.length,s)}`,d=ne._getLeftText(t,e.offset,!0,60),u=ne._getRightText(t,e.offset+e.length,!0,60),h=`${m(d)}<lt-em>${m(c)}</lt-em>${m(u)}`;let _="";e.shortMessage&&e.shortMessage.length<60&&e.shortMessage!==e.message&&(_=e.shortMessage.replace(this.PUNCTUATION_AT_END,""));const E=e.replacements.map((e=>({value:e.value,prefix:e.prefix,suffix:e.suffix,type:e.type,shortDescription:e.shortDescription})));return{isParagraphLevelCheck:s,rule:e.rule,isCustomError:r,isSpellingError:i,isStyleError:a,isPunctuationError:o,isPicky:l,contextForSureMatch:e.contextForSureMatch,language:{code:n.code,name:n.name},description:e.message,shortDescription:_,start:e.offset,end:e.offset+e.length,length:e.length,originalPhrase:c,contextPhrase:g,longContextPhrase:h,fixes:E}}))}static _adjustErrors(e,t,n){const s=n.recipientInfo?n.recipientInfo.fullName.split(" ").filter((e=>e)):[];return e.filter((e=>{if(n.ignoreCapitalizationErrors){if(e.fixes.some((t=>t.value.toLowerCase()===e.originalPhrase.toLowerCase())))return!1;if("UPPERCASE_SENTENCE_START"===e.rule.id)return!1}e.fixes=e.fixes.filter((t=>t.value!=="("+e.originalPhrase+")"&&t.value!==e.originalPhrase&&"(suggestion limit reached)"!==t.value&&"(se ha alcanzado el límite de sugerencias)"!==t.value&&"(Vorschlagslimit erreicht)"!==t.value)),e.language.code.startsWith("en")&&g(e.originalPhrase)&&!/[a-z]/i.test(e.contextPhrase)&&e.fixes.forEach((t=>{t.value.toLowerCase()!==e.originalPhrase.toLowerCase()&&(t.value=t.value.toUpperCase())})),"PT_CLICHE_REPLACE"!==e.rule.id&&"PT_WORDINESS_REPLACE"!==e.rule.id||e.fixes.forEach((t=>{(t.value.startsWith("REFORMULAR")||t.value.startsWith("APAGAR")||t.value.startsWith("ESPECIFICAR"))&&(e.description=e.description.replace(/\sÉ preferível dizer.+(REFORMULAR|APAGAR|ESPECIFICAR).+$/,""),t.value="")}));if(this.EMAIL_SIGNATURE_SEPARATOR_REGEXP.test(e.originalPhrase))return!1;if(this.ZWS_REGEXP.test(e.originalPhrase))return!1;if(e.rule.id.endsWith("WORD_REPEAT_BEGINNING_RULE")&&this.ONLY_NUMBERS_REGEXP.test(e.originalPhrase))return!1;if("LEERZEICHEN_HINTER_DOPPELPUNKT"===e.rule.id&&this.COLON_WHITESPACE_REGEXP.test(e.originalPhrase))return!1;const r=t.substring(e.start-25,e.start),i=t.substr(e.end,25);if(n.ignoreCapitalizationErrorsAtLineStart&&"UPPERCASE_SENTENCE_START"===e.rule.id&&this.MID_SENTENCE_LINE_BREAK.test(r))return!1;if("DE_CASE"===e.rule.id&&this.BULLET_POINT_REGEXP.test(r))return!1;if("DE_CASE"===e.rule.id&&this.NUMBER_WITH_PARENTHESIS_AT_END_REGEXP.test(r))return!1;if("DE_CASE"===e.rule.id&&this.PIPE_AT_END_REGEXP.test(r))return!1;if("DE_CASE"===e.rule.id&&this.MARKDOWN_HEADLINE_REGEXP.test(r))return!1;if("DE_CASE"===e.rule.id&&this.EMOJI_SENTENCE_START_REGEXP.test(r))return!1;if("LEERZEICHEN_HINTER_DOPPELPUNKT"===e.rule.id&&this.MARKDOWN_INLINE_FORMAT_AT_BEGINNING_REGEXP.test(i))return!1;if("LEERZEICHEN_HINTER_DOPPELPUNKT"===e.rule.id&&this.WIKI_MARKUP_AT_END_REGEXP.test(r))return!1;if(e.rule.id.endsWith("UNPAIRED_BRACKETS")&&("!"===e.originalPhrase||"?"===e.originalPhrase)&&(r.endsWith("!")||r.endsWith("?")))return!1;if(e.rule.id.endsWith("UNPAIRED_BRACKETS")&&this.ONE_LETTER_AT_END_REGEXP.test(r))return!1;if(e.rule.id.endsWith("UNPAIRED_BRACKETS")&&this.NUMBER_WITH_DOT_AT_END_REGEXP.test(r))return!1;if("SENTENCE_WHITESPACE"===e.rule.id&&r.endsWith("{!"))return!1;if("SENTENCE_WHITESPACE"===e.rule.id&&this.SINGLE_UPPERCASE_LETTER_REGEXP.test(e.originalPhrase)&&this.ABBREVIATION_AT_END_REGEXP.test(r))return!1;if("SENTENCE_WHITESPACE"===e.rule.id&&"net"===e.originalPhrase.toLowerCase())return!1;if("COMMA_PARENTHESIS_WHITESPACE"===e.rule.id&&this.NET_AT_BEGINNING_REGEXP.test(i))return!1;if("COMMA_PARENTHESIS_WHITESPACE"===e.rule.id&&e.originalPhrase.endsWith(")")&&r.endsWith(this.ZWS))return!1;if("COMMA_PARENTHESIS_WHITESPACE"===e.rule.id&&e.originalPhrase.endsWith(".")&&this.FILE_TYPE_AT_BEGINNING_REGEXP.test(i))return!1;if("COMMA_PARENTHESIS_WHITESPACE"===e.rule.id&&r.endsWith("(")&&(",)"===e.originalPhrase||".)"===e.originalPhrase))return!1;if("COMMA_PARENTHESIS_WHITESPACE"===e.rule.id&&r.endsWith("\n")&&[")","}","]","."].includes(e.originalPhrase))return!1;if("COMMA_PARENTHESIS_WHITESPACE"===e.rule.id&&i.startsWith("/"))return!1;if("COMMA_PARENTHESIS_WHITESPACE"===e.rule.id&&e.originalPhrase.includes(this.ZWS))return!1;if("WORT1_BINDESTRICH_SPACE_WORT2"===e.rule.id&&e.originalPhrase.endsWith(this.ZWS))return!1;if("MULTIPLICATION_SIGN"===e.rule.id&&(this.AT_LEAST_TWO_LETTERS_AT_END_REGEXP.test(r)||!i||this.PUNCTUATION_AT_BEGINNING_REGEXP.test(i)))return!1;if("ZBEDNA_SPACJA_PRZED"===e.rule.id&&e.originalPhrase.includes(this.ZWS))return!1;if("UNLIKELY_OPENING_PUNCTUATION"===e.rule.id&&this.PUNCTUATION_SPACE_AT_END_REGEXP.test(r))return!1;if("WORD_CONTAINS_UNDERSCORE"===e.rule.id&&(!this.LOWERCASE_REGEXP.test(e.originalPhrase)||e.originalPhrase.includes("-")||e.originalPhrase.includes("__")||this.SLASH_AT_END_REGEXP.test(r)||this.SLASH_AT_BEGINNING_REGEXP.test(i)))return!1;if("WORD_CONTAINS_UNDERSCORE"===e.rule.id&&r.endsWith("[")&&i.startsWith("]"))return!1;if("WORD_CONTAINS_UNDERSCORE"===e.rule.id&&this.QUOTE_AT_END_REGEXP.test(r)&&this.QUOTE_AT_BEGINNING_REGEXP.test(i))return!1;if("WORD_CONTAINS_UNDERSCORE"===e.rule.id&&(r.endsWith("=")||r.endsWith("&")||r.endsWith("?")))return!1;if(["APOS_INCORRECT","LOOSE_ACCENTS"].includes(e.rule.id)&&"`"===e.originalPhrase)return!1;if(["_2_AANH_B","FALSCHES_ANFUEHRUNGSZEICHEN_2"].includes(e.rule.id)&&"``"===e.originalPhrase)return!1;if("DASH_RULE"===e.rule.id&&i.startsWith(" [")&&(!r||r.endsWith("\n")))return!1;if(e.isSpellingError||"WORD_CONTAINS_UNDERSCORE"===e.rule.id){const t=e.originalPhrase.charAt(0),a=e.originalPhrase.toLowerCase();if(y(e,n.dictionary))return!1;if((i.startsWith("_")||r.endsWith("_"))&&!e.language.code.startsWith("de"))return!1;if(e.originalPhrase.startsWith("$")&&i.startsWith("}")&&r.endsWith("{"))return!1;if(e.originalPhrase.startsWith("$")&&e.originalPhrase.endsWith("$"))return!1;if(this.HTML_ENTITIES.includes(e.originalPhrase)&&r.endsWith("&")||this.HTML_ENTITIES_WITH_AND.includes(e.originalPhrase)||this.HTML_ENTITIES_WITH_AND.includes("&"+e.originalPhrase))return!1;if(this.COMMON_TLDS.some(((e,t)=>a.endsWith("."+e)||this.COMMON_TLD_WITH_DOT_REGEXPS[t].test(i))))return!1;if(this.DOT_WITH_PREFIX_REGEXP.test(r)&&this.COMMON_TLDS.includes(a))return!1;if(this.COMMON_FILE_TYPES.some(((e,t)=>a.endsWith("."+e)||this.COMMON_FILE_TYPE_WITH_DOT_REGEXPS[t].test(i))))return!1;if(this.DOT_WITH_PREFIX_REGEXP.test(r)&&this.COMMON_FILE_TYPES.includes(a))return!1;const o="@"===t||this.MENTION_SYMBOL_AT_BEGINNING_REGEXP.test(r),l="#"===t||this.HASH_SYMBOL_AT_BEGINNING_REGEXP.test(r);if(o||l)return!1;if(s.some((t=>t===e.originalPhrase)))return!1;if(this.WAVY_DASH_REGEXP.test(e.originalPhrase))return!1;for(const t of s)if(t.toLowerCase()===e.originalPhrase.toLowerCase()&&!e.fixes.some((e=>e.value===t))){e.fixes.unshift({value:t});break}}return!0}))}static _processResponse(e,t,n,s,r,i=!1){e.matches=this._correctMatches(e.matches,n,s);let a=this._transformMatches(e.matches,s,e.language,i);a=this._adjustErrors(a,s,r);let o=[],l=[],c=[];const g=!r.apiServerUrl||this._isLanguageToolServer(r.apiServerUrl);return t=this._correctMatches(t.map((({start:e,end:t})=>({offset:e,length:t-e}))),n,s).map((({offset:e,length:t})=>({start:e,end:e+t,length:t}))),!r.isPremium&&g&&e.language&&e.language.code.startsWith("nl")&&(a=a.filter((e=>!this.NL_PREMIUM_RULES.includes(e.rule.id)||(e.rule.id="HIDDEN_RULE",e.fixes=[],o.push(e),!1)))),!r.isPremium&&g&&e.language&&e.language.code.startsWith("pl")&&(a=a.filter((e=>!this.PL_PREMIUM_RULES.includes(e.rule.id)||(e.rule.id="HIDDEN_RULE",e.fixes=[],o.push(e),!1)))),r.isPremium&&a.forEach((e=>{this.NL_PREMIUM_RULES.includes(e.rule.id)&&(e.rule.isPremium=!0),this.PL_PREMIUM_RULES.includes(e.rule.id)&&(e.rule.isPremium=!0)})),r.debug&&a.forEach((e=>{e.description=(e.rule.isPremium?"prem:":"")+e.rule.id+"["+(e.rule.subId||"")+"] "+e.description})),e.hiddenMatches&&(o=o.concat(this._transformMatches(e.hiddenMatches,s,e.language,i))),"hidden-picky"===r.checkLevel&&(a=a.filter((e=>!e.isPicky||(c.push(e),!1))),e.hiddenMatches&&(o=o.filter((e=>!e.isPicky||(l.push(e),!1))))),{errors:a,premiumErrors:o,pickyErrors:c,premiumPickyErrors:l,sentenceRanges:t}}static _getNonAlphaNumericalOffset(e,t,n=""){const s="start"===t,r=e.length-1,i=s?0:r,a=s?r:0,o=new RegExp(`^(?:\\p{L}|\\p{N}${n?"|"+n:""})$`,"gu"),l=e=>s?e+1:e-1;let c=0;for(let t=i;(g=t,s?g<=a:g>=0)&&null===e.charAt(t).match(o);t=l(t))c+=1;var g;return c}static _trimSentenceRanges(e,t){const n=[];for(const s of e){const{start:e,end:r}=s,i=t.substring(e,r),a=this._getNonAlphaNumericalOffset(i,"start","[¿¡(@]"),o=this._getNonAlphaNumericalOffset(i,"end","[?!.)…:;‽]"),l=e+a,c=l+i.length-a-o,g=c-l;n.push({start:l,end:c,length:g})}return n}static _correctErrorOffsets(e,t){const n=[];let s=0;for(const r of e){const e=r.text.length;for(const i of t)if(i.start>=s&&i.end<=s+e){const e=Object.assign({},i);e.start=e.start-s+r.offset,e.end=e.start+e.length,n.push(e)}s+=e+2}return n}static checkTextLevel(e,t,n,s=!1){return ee(this,void 0,void 0,(function*(){if(!(e=this._prepareText(e)).trim()||/^( *\n)* *$/g.test(e))return{language:t,errors:[],premiumErrors:[],pickyErrors:[],premiumPickyErrors:[]};this._abortCheckRequest(n.instanceId),this._textLevelAbortControllers.set(n.instanceId,new AbortController),this._useFallbackServerForTextLevelRequests&&Date.now()-this._mainServerUnavailabilityTimeStamp>=L.MAIN_SERVER_RECHECK_INTERVAL&&(this._useFallbackServerForTextLevelRequests=!1);const r=e.normalize(),i=this._getServerFullUrl(n,!1,s),a={method:"post",mode:"cors",credentials:"omit",body:this._getCheckRequestData(r,t,n),signal:this._textLevelAbortControllers.get(n.instanceId).signal};return this._sendRequest(i,a).then((t=>{const{errors:s,premiumErrors:i,pickyErrors:a,premiumPickyErrors:o}=this._processResponse(t,[],r,e,n);return{language:{code:t.language.code,name:t.language.name,detectedLanguage:t.language.detectedLanguage},errors:s,premiumErrors:i,pickyErrors:a,premiumPickyErrors:o}})).catch((s=>{if(this._isConnectionOrServerIssue(s)){this._abortCheckRequest(n.instanceId);if(!n.apiServerUrl&&!this._useFallbackServerForTextLevelRequests)return this._useFallbackServerForTextLevelRequests=!0,this._mainServerUnavailabilityTimeStamp=Date.now(),this.checkTextLevel(e,t,n)}throw s}))}))}static checkParagraphLevel(e,t,n,s=!1){return ee(this,void 0,void 0,(function*(){e.forEach((e=>{e.text=this._prepareText(e.text)}));if(!e.some((e=>!!e.text.trim())))return{language:t,errors:[],premiumErrors:[],pickyErrors:[],premiumPickyErrors:[],isIncompleteResult:!1};this._abortParagraphLevelCheckRequest(n.instanceId),this._paragraphLevelAbortControllers.set(n.instanceId,new AbortController),this._useFallbackServerForParagraphLevelRequests&&Date.now()-this._mainServerUnavailabilityTimeStamp>=L.MAIN_SERVER_RECHECK_INTERVAL&&(this._useFallbackServerForParagraphLevelRequests=!1);const r=this._getServerFullUrl(n,!0),i=this._joinInChunks(e),a=[];for(const e of i){const i=e.map((e=>e.text)).join("\n\n"),o=i.normalize(),l={method:"post",mode:"cors",credentials:"omit",body:this._getParagraphLevelCheckRequestData(o,t,n,s),signal:this._paragraphLevelAbortControllers.get(n.instanceId).signal},c=this._sendRequest(r,l).then((t=>{const{language:s,warnings:r,sentenceRanges:a}=t,l=(a||[]).map((([e,t])=>({start:e,end:t,length:t-e})));let c=t.ignoreRanges||[];n.debug&&c.length&&(t.matches=this._filterErrorsInIgnoredRanges(t.matches,c),t.hiddenMatches&&(t.hiddenMatches=this._filterErrorsInIgnoredRanges(t.hiddenMatches,c)),this._addIgnoredRangeMatches(o,t.matches,c));const g=this._processResponse(t,this._trimSentenceRanges(l,o),o,i,n,!0),{errors:d,premiumErrors:u,pickyErrors:m,premiumPickyErrors:h}=g;let _=te(g,["errors","premiumErrors","pickyErrors","premiumPickyErrors"]).sentenceRanges;const E=this._correctErrorOffsets(e,d),p=this._correctErrorOffsets(e,u),A=this._correctErrorOffsets(e,m),f=this._correctErrorOffsets(e,h);return _=this._correctErrorOffsets(e,_),{language:{code:s.code,name:s.name},errors:E,premiumErrors:p,pickyErrors:A,premiumPickyErrors:f,isIncompleteResult:!!r&&r.incompleteResults,sentenceRanges:_}}));a.push(c)}return Promise.all(a).then((e=>({language:e[0].language,errors:Array.prototype.concat.apply([],e.map((e=>e.errors))),premiumErrors:Array.prototype.concat.apply([],e.map((e=>e.premiumErrors))),premiumPickyErrors:Array.prototype.concat.apply([],e.map((e=>e.premiumPickyErrors))),pickyErrors:Array.prototype.concat.apply([],e.map((e=>e.pickyErrors))),isIncompleteResult:e.some((e=>e.isIncompleteResult)),sentenceRanges:Array.prototype.concat.apply([],e.filter((e=>Boolean(e.sentenceRanges))).map((e=>e.sentenceRanges)))}))).catch((r=>{if(this._isConnectionOrServerIssue(r)){this._abortParagraphLevelCheckRequest(n.instanceId);if((!n.apiServerUrl||this._isLanguageToolServer(n.apiServerUrl))&&!this._useFallbackServerForParagraphLevelRequests)return this._useFallbackServerForParagraphLevelRequests=!0,this._mainServerUnavailabilityTimeStamp=Date.now(),this.checkParagraphLevel(e,t,n,s)}throw r}))}))}static _filterErrorsInIgnoredRanges(e,t){return e.filter((e=>{const n=e.offset,s=e.offset+e.length;return!t.some((e=>n>=e.from&&n<=e.to||s>=e.from&&s<=e.to))}))}static _addIgnoredRangeMatches(e,t,n){n.forEach((n=>{let s=n.to-n.from;const r=e.substring(n.from,n.to).match(/\s+$/);r&&(s-=r[0].length);const i={offset:n.from,length:s,rule:{id:"IGNORED_RANGE",category:{id:"IGNORED_RANGE",name:"Ignored Range"},issueType:"ignoredRange",description:"",isPremium:!1},contextForSureMatch:0,message:"This text is in a different language than the rest of the text.",shortMessage:"Different language: "+n.language.code,replacements:[]};t.push(i)}))}static detectLanguage(e,t,n){return ee(this,void 0,void 0,(function*(){if(e=this._prepareText(e),t||!e.trim()||/^( *\n)* *$/g.test(e))return{language:t,errors:[],premiumErrors:[],pickyErrors:[],premiumPickyErrors:[]};this._abortLanguageDetectionRequest(n.instanceId),this._languageDetectionAbortControllers.set(n.instanceId,new AbortController),this._useFallbackServerForLanguageDetection&&Date.now()-this._mainServerUnavailabilityTimeStamp>=L.MAIN_SERVER_RECHECK_INTERVAL&&(this._useFallbackServerForLanguageDetection=!1);const s=e.substr(0,1e3).normalize(),r=this._getServerFullUrl(n,!1),i={method:"post",mode:"cors",credentials:"omit",body:this._getCheckRequestData(s,t,n),signal:this._languageDetectionAbortControllers.get(n.instanceId).signal};return this._sendRequest(r,i).then((e=>({language:{code:e.language.code,name:e.language.name},errors:[],premiumErrors:[],premiumPickyErrors:[],pickyErrors:[]}))).catch((s=>{if(this._isConnectionOrServerIssue(s)){this._abortLanguageDetectionRequest(n.instanceId);if((!n.apiServerUrl||this._isLanguageToolServer(n.apiServerUrl))&&!this._useFallbackServerForLanguageDetection)return this._useFallbackServerForLanguageDetection=!0,this._mainServerUnavailabilityTimeStamp=Date.now(),this.detectLanguage(e,t,n)}throw s}))}))}static _isLanguageToolServer(e){return!!e&&(e.includes("api.languagetool.org")||e.includes("languagetool.org/api")||e.includes("api.languagetoolplus.com"))}static checkForPaidSubscription(e,t,n,s=L.PREMIUM_SERVER_URL){return new Promise(((r,i)=>{s+=s.endsWith("/")?"check":"/check";const a=new URLSearchParams;a.append("language","en-us"),a.append("data",JSON.stringify({text:"The languagetool testrule 8634756."})),e&&t?(a.append("username",e),a.append("password",t)):e&&n&&(a.append("username",e),a.append("tokenV2",n));const o={method:"post",mode:"cors",credentials:"omit",body:a};this._sendRequest(s,o).then((e=>{const t=e.matches.some((e=>"PREMIUM_FAKE_RULE"===e.rule.id));r(t)})).catch((e=>{403!==e.status?i(e):r(!1)}))}))}static addWordToDictionary(e,t){const n=this.getServerBaseUrl(t);let s=n.endsWith("/")?n+"words/add":n+"/words/add";if(t.user&&"token"in t.user)s+=`?username=${encodeURIComponent(t.user.email)}&tokenV2=${encodeURIComponent(t.user.token)}`;else{if(!t.user||!("password"in t.user))return Promise.reject(new Error("Not logged-in for adding words to dictionary"));s+=`?username=${encodeURIComponent(t.user.email)}&password=${encodeURIComponent(t.user.password)}`}return s+=`&word=${encodeURIComponent(e.trim())}`,fetch(s,{method:"POST"}).then((e=>e.ok?Promise.resolve():Promise.reject(new Error(`Status: ${e.status}`))))}}ne.NL_PREMIUM_RULES=["FAAG_VAAG","TOO_LONG_SENTENCE","_2_LEESTEKENS","WEEKEND","CASU_QUO","MOMENTEEL","SLECHTS","LEENWOORDEN","KOMMA_HOOR","RELEVANT","HINTS","CHECKEN","ALLEEN_BE","MACHTE","ECHTER","COMMUNICEREN","DESIGN","SANDAAL_ZANDAAL","N","MIDDELS","INTEGREREN","PRIMAIR","OVERIGENS","BETREFFENDE","AGENDA","ERGO","TEN_BEHOEVE","KOMMA_AANH","TM","IE","TER_ZAKE","SIGNIFICANT","GELIEVE","BEHOREN","NAAR_AANLEIDING_VAN","VAN_PLAN_ZIJN","HEDEN","TEN_DODE","VREEMD_VRZ_HIJ","DES","IMPACT","IMMER","BOVENSTAAND","XXXYJE","DUTCH_WRONG_WORD_IN_CONTEXT","LANCEREN","MET_BEHULP_VAN","PRIORITEIT","UWENTWEGE","CATEGORIE","CRITERIUM","GEMOTIVEERD"],ne.PL_PREMIUM_RULES=["BOWIEM_ZAS","ZE_Z_SPOL","SPACJA_ZNAK_ROWNOSCI","BRAK_PRZECINKA_GDY","PYTANIE_CO","BRAK_PRZECINKA_JESLI","PRZECINEK_ANI","SKROTOWCE_BEZ_DYWIZU","NIEZGODNOSC_PRZYPADKU_PO_LICZEBNIKU","PODMIOT_ORZECZENIE","ROWNIE_JAK","JAK_I","PRZECINEK_POROWNANIE","WOLACZ_BEZ_PRZECINKA","ODNOSNIE_DO","GENERALNIE","BOWIEM_ZAS_PRZECINEK","WYDAWAC_SIE_BYC","POSIADAC_MIEC","PL_GUILLEMET","ITP_ITD","SPACJA_PROCENT","PO","W_TEMACIE","PL_DWA_WYRAZY","W_NAWIAZANIU_DO","WE_W","POKI_CO","VS","DZIEN_DZISIEJSZY","WIELOKROTNE_WYSTPIENIE_TEGO_SAMEGO_WYRAENIA_PRZYIMKOWEGO","I_LUB","PELNIC_ROLE","OKRES_CZASU","UZNAC_JAKO","EFEKT_KONCOWY","DLATEGO_PONIEWAZ","NA_DZIEN_DZISIEJSZY","DODATKOWO_CO_WIECEJ","OWY_W","DZIEN_JUTRZEJSZY","ADRES_ZAMIESZKANIA","W_CHWILI_OBECNEJ","BYC_ZNAJDOWAC_SIE_W_POSIADANIU","DO_TERAZ","PROTOKOL_Z_CZEGO","PO_NAJMNIEJSZEJ_LINII","POTRAFIACY","zarowno_jak_rowniez","GRAC_FAIR_PLAY","DRUGI_NAJWIEKSZY","COFAC_SIE_DO_TYLU","DZIEN_WCZORAJSZY","NA_PRZESTRZENI","IDENTYCZNY_JAK","ZA_WYJATKIEM","MAPA_DROGOWA","W_PRZECIGU_TYGODNIA_W_CIGU","NAPOTKAC_NA","PRZERWA_KAWOWA","WYSOKA_FREKWENCJA","UBRAC_ZALOZYC","PRZY_UDZIALE","W_SLAD_ZA","WYRAZIC_POPARCIE","W_TYM_WZGLEDZIE","PO_PIERWSZE_PRIMO","DOMYSLEC_SIE","WARTY","IDENTYCZNY_DO","W_DRODZE_WYJATKU","PRZEDKLADAC_WNIOSEK","POD_RZAD","PRZYJAZNY_DLA_UZYTKOWNIKA","NA_WSKUTEK","SWIECIC_SUKCESY","W_WEGRZECH","KONDYCJA_FINANSOWA","RULE_NIEMNIEJ","FORMULA_KREMU","PODDAWAC_W_WATPLIWOSC","OPATRZEC_SIE","ODGRYWAC_ZNACZENIE","INFORMACJE_WRAZLIWE","DO_DZIS_DZIEN","CO_I_RAZ","OKRAGLY_ROK","SZERSZE_INFORMACJE","WYSOKA_FORMA","CZEKAC_ZA","BYNAJMNIEJ","WYWIERAC_PIETNO","DOPATRZEC_SIE","ZLA_RENOMA","W_PELNYM_TEGO","W_KAZDYM_BADZ","KOSZTOWAC_TANIEJ","DYGITALNY"],ne.SPELLING_RULES_ID=["SPELLER_RULE","MORFOLOGIK_RULE","HUNSPELL","SPELLING_RULE"],ne.STYLE_ISSUE_TYPES=["style","locale-violation","register"],ne.EMAIL_SIGNATURE_SEPARATOR_REGEXP=/^[\‐|\-]{2,}|[\‐|\-]{2,}$/,ne.ONLY_NUMBERS_REGEXP=/^[0-9]+$/,ne.COLON_WHITESPACE_REGEXP=/^[;:]\s/,ne.ONE_LETTER_AT_END_REGEXP=/(\s|^|\()[a-z]\.?\s?$/i,ne.NUMBER_WITH_DOT_AT_END_REGEXP=/\d\.?\s?$/,ne.NUMBER_WITH_PARENTHESIS_AT_END_REGEXP=/\d\.?\)\s$/,ne.PUNCTUATION_AT_END=/(\.|\!)$/,ne.BULLET_POINT_REGEXP=/(\u25b6\ufe0e|\u25BA|\*|-|–|\u2606|\u2605|\u25cf|\u2022|\u25e6|\u27A4|\u2714)\s+$/,ne.LOWERCASE_REGEXP=/[a-z]/,ne.DOT_WITH_PREFIX_REGEXP=/\w\.$/,ne.SLASH_AT_END_REGEXP=/(\/|\\)$/,ne.AT_LEAST_TWO_LETTERS_AT_END_REGEXP=/[a-z]{2}$/i,ne.SLASH_AT_BEGINNING_REGEXP=/^(\/|\\)/,ne.QUOTE_AT_END_REGEXP=/[\"\“\”\„]$/,ne.QUOTE_AT_BEGINNING_REGEXP=/^[\"\“\”\„]/,ne.PUNCTUATION_AT_BEGINNING_REGEXP=/^\s?[\.\!\?,:…]/,ne.PUNCTUATION_SPACE_AT_END_REGEXP=/[\.…\?\!]\s+/,ne.MARKDOWN_HEADLINE_REGEXP=/^#{1,6}\s/m,ne.MARKDOWN_INLINE_FORMAT_AT_BEGINNING_REGEXP=/^[\*\~\_\^\+\%\@]/m,ne.WIKI_MARKUP_AT_END_REGEXP=/\[\[[a-z]+$/,ne.PIPE_AT_END_REGEXP=/\|\s+$/,ne.MENTION_SYMBOL_AT_BEGINNING_REGEXP=/@[a-z\.\-]*$/i,ne.HASH_SYMBOL_AT_BEGINNING_REGEXP=/#[a-z\.\-]*$/i,ne.EMOJI_SENTENCE_START_REGEXP=/(\.|!|\?|^)\s?(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])\s+/,ne.ABBREVIATION_AT_END_REGEXP=/(\s|\(|^)[A-Z]\.$/,ne.NET_AT_BEGINNING_REGEXP=/^net\b/i,ne.SINGLE_UPPERCASE_LETTER_REGEXP=/^[A-Z]$/,ne.NON_ALPHANUMERIC_AT_BEGINNING_REGEXP=/^[^a-z0-9äöüßáàâéèêíìîóòôúùû\.\?\!,\:\;¿¡]{1,3}/i,ne.NON_ALPHANUMERIC_AT_END_REGEXP=/[^a-z0-9äöüßáàâéèêíìîóòôúùû\.\?\!,\:\;¿¡]{1,3}$/i,ne.HTML_ENTITIES=["amp","nbsp","gt","lt","bull","euro","copy","laquo","raquo","hellip","middot"],ne.HTML_ENTITIES_WITH_AND=ne.HTML_ENTITIES.map((e=>`&${e}`)),ne.WAVY_DASH_REGEXP=/^\u3030+$/,ne.ZWS_REGEXP=/^\uFEFF+$/,ne.ZWNJ_REGEXP=/\u200B|\u200C/g,ne.ZWS="\ufeff",ne.MID_SENTENCE_LINE_BREAK=/[\wáàâóòìíéèùúâôîêûäöüß,\)][\u0020\u00A0\uFEFF]*\n\n\n?[\u0020\u00A0\uFEFF"„»«“‘]*$/,ne.COMMON_TLDS=["com","co","org","net","de","info","biz","es","fr","be","in","gov","nl","ca","com.br","br","at","us","au","ru","pl","ly","it","cat","edu","jp","ko","cn","se","no","mil","ch","dk","com.mx","mx","eu","co.uk","uk","ir","cz","ua","kr","gr","tw","nz","co.nz","za","ro","vn","io","tr","me","fi","tv","xyz","pt","ie","app"],ne.COMMON_TLD_WITH_DOT_REGEXPS=ne.COMMON_TLDS.map((e=>new RegExp(`^\\.${e.replace(".","\\.")}\\b`,"i"))),ne.COMMON_FILE_TYPES=["jpeg","jpg","gif","png","bmp","indd","stl","svg","ai","sketch","ico","ics","env","amf","ps","psd","tiff","tif","mp3","wav","midi","mid","aif","mpa","ogg","wma","wpl","cda","7z","arj","deb","pkg","plist","rar","rpm","tar.gz","tar","zip","bin","dmg","iso","toast","vcd","csv","dat","db","log","mdb","sav","sql","xml","apk","bat","bin","cgi","com","exe","gadget","jar","py","js","jsx","json","wsf","ts","tsx","fnt","fon","otf","ttf","woff","woff2","rb","java","php","html","asp","aspx","cer","cfm","cgi","pl","css","scss","htm","jsp","part","rss","xhtml","key","odp","pps","ppt","pptx","class","cpp","cs","h","sh","swift","vb","ods","odt","xlr","xls","xlsx","xlt","xltx","bak","cab","cfg","cpl","cur","dll","dmp","msi","ini","tmp","3g2","3gp","avi","flv","h264","m4v","mkv","mov","mp4","mpg","mpeg","rm","swf","vob","wmv","doc","docx","dot","dotx","pdf","rtf","srx","text","tex","wks","wps","wpd","txt","yaml","yml","csl","md","adm"],ne.COMMON_FILE_TYPE_WITH_DOT_REGEXPS=ne.COMMON_FILE_TYPES.map((e=>new RegExp(`^[\\wáàâóòìíéèùúâôîêûäöüß\\-\\.\\(\\)]*?\\.${e}\\b`,"i"))),ne.FILE_TYPE_AT_BEGINNING_REGEXP=new RegExp(`(${ne.COMMON_FILE_TYPES.join("|")})\b`,"i"),ne._textLevelAbortControllers=new Map,ne._paragraphLevelAbortControllers=new Map,ne._languageDetectionAbortControllers=new Map,ne._useFallbackServerForTextLevelRequests=!1,ne._useFallbackServerForParagraphLevelRequests=!1,ne._useFallbackServerForLanguageDetection=!1,ne._mainServerUnavailabilityTimeStamp=0,ne._checkForException=e=>e.ok?e:e.text().catch((()=>"")).then((t=>{const n=t.toLowerCase();if(n.includes("too many error"))throw{reason:"TooManyErrors",status:e.status,response:t};if(413===e.status||n.includes("text exceeds the limit"))throw{reason:"TextTooLong",status:e.status,response:t};if(t.toLowerCase().includes("checking took longer than"))throw{reason:"TimeoutError",status:e.status,url:e.url?e.url.replace(/\?.*/,"?..."):"unknown",response:t};if(429===e.status)throw{reason:"TooManyRequests",status:e.status,response:t};if(403===e.status){if(n.includes("client request size limit")||n.includes("client request limit")||n.includes("ip request limit")||n.includes("ip request size limit"))throw{reason:"TooManyRequests",status:e.status,response:t};if(n.includes("authexception"))throw{reason:"InvalidCredentials",status:e.status,response:t};throw{reason:"AccessDenied",status:e.status,response:t}}if(n.includes("checking took longer than"))throw{reason:"TimeoutError",status:e.status,url:e.url?e.url.replace(/\?.*/,"?..."):"unknown",response:t};throw{reason:"UnknownError",status:e.status,response:t}}));
/*! (C) Copyright 2020 LanguageTooler GmbH. All rights reserved. */
class se extends x{static _getStringSize(e){let t=0;for(let n=0;n<e.length;n++){const s=e.charCodeAt(n);t+=s<128?1:s<2048?2:s<65536?3:s<1<<21?4:s<1<<26?5:s<1<<31?6:Number.NaN}return t}static _getStorage(){const t=B();return t.storage.sync&&!e.isFirefox()?t.storage.sync:t.storage.local}static _getManagedStorage(){return B().storage.managed}constructor(){super(),this._onStoredDataChanged=(e,t)=>{const n=["username","token"].filter((t=>e.hasOwnProperty(t)&&e[t].oldValue!==e[t].newValue));let s=!1,r=!1,i=!1,a=!1,o=!1;for(const n in e)"managed"!==t?(/^dictionary(_\d+)?$/.test(n)&&(s=!0),this._settings&&x.DEFAULT_SETTINGS.hasOwnProperty(n)&&"dictionary"!==n&&(this._settings[n]=e[n].newValue,r=!0),this._configuration&&x.DEFAULT_CONFIGURATION.hasOwnProperty(n)&&(this._configuration[n]=e[n].newValue,i=!0),this._privacySettings&&x.DEFAULT_PRIVACY_SETTINGS.hasOwnProperty(n)&&(this._privacySettings[n]=e[n].newValue,a=!0),this._statistics&&x.DEFAULT_STATISTICS.hasOwnProperty(n)&&(this._statistics[n]=e[n].newValue),this._uiState&&x.DEFAULT_UI_STATE.hasOwnProperty(n)&&(this._uiState[n]=e[n].newValue,o=!0),this._testFlags&&x.DEFAULT_TEST_FLAGS.hasOwnProperty(n)&&(this._testFlags[n]=e[n].newValue),"uniqueId"===n&&(this._uniqueId=e[n].newValue)):this._managedSettings&&x.DEFAULT_MANAGED_SETTINGS.hasOwnProperty(n)&&(this._managedSettings[n]=e[n].newValue);if(r){for(const e of this._settings.ignoredRules)e.turnOffDate&&(e.turnOffDate=new Date(e.turnOffDate));this._eventBus.fire(x.eventNames.settingsChanged,e)}n.length&&this._eventBus.fire(x.eventNames.userCredentialsChanged,n.reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:e[n]})),{})),s&&this._storage.get().then((e=>{if(!this._settings)return;const t=this._joinChunks(e,"dictionary"),n={dictionary:{oldValue:this._settings.dictionary,newValue:t}};this._settings.dictionary=t,this._eventBus.fire(x.eventNames.settingsChanged,n)})),i&&this._eventBus.fire(x.eventNames.configurationChanged,e),a&&this._eventBus.fire(x.eventNames.privacySettingsChanged,e),o&&this._eventBus.fire(x.eventNames.uiStateChanged,e)},this._storage=se._getStorage(),this._managedStorage=se._getManagedStorage(),this._isInitialized=!1,this._loadData(),B().storage.onChanged.addListener(this._onStoredDataChanged)}_splitInChunks(e,t,n=this._storage.QUOTA_BYTES_PER_ITEM){let s=e[t],r=0,i=[],a=se._getStringSize(t)+se._getStringSize("[]");for(;s.length;){const o=s.shift(),l=se._getStringSize(`,"${o}"`);if(a+l>n){e[0===r?t:`${t}_${r}`]=i,r++,i=[o],a=se._getStringSize(`${t}_${n}`)+se._getStringSize(`["${o}"]`)}else i.push(o),a+=l;if(0===s.length){e[0===r?t:`${t}_${r}`]=i}}e[`${t}_${r+1}`]=[]}_joinChunks(e,t,n=this._storage.MAX_ITEMS){let s=e[t]||[];for(let r=1;r<n;r++){const n=e[`${t}_${r}`];if(void 0===n||0===n.length)break;s=s.concat(n)}return s}_loadData(){const e=this._storage.get().then((e=>{const t=x._combineObjects(x.DEFAULT_SETTINGS,e);t.dictionary=this._joinChunks(e,"dictionary");for(const e of t.ignoredRules){if(void 0===e.description){const t=x.DEFAULT_SETTINGS.ignoredRules.find((t=>t.id===e.id&&t.language===e.language));e.description=t?t.description:""}if(void 0===e.turnOffDate){const t=x.DEFAULT_SETTINGS.ignoredRules.some((t=>t.id===e.id&&t.language===e.language));e.turnOffDate=t?null:new Date(2019,9,1)}else null!==e.turnOffDate&&(e.turnOffDate=new Date(e.turnOffDate))}t.disabledDomains=t.disabledDomains.map((e=>C(e,""))).filter((e=>e)),t.ignoreCheckOnDomains=t.ignoreCheckOnDomains.map((e=>C(e,""))).filter((e=>e)),t.autoCheckOnDomains=t.autoCheckOnDomains.map((e=>C(e,""))).filter((e=>e)),this._settings=t,this._configuration=x._combineObjects(x.DEFAULT_CONFIGURATION,e),this._privacySettings=x._combineObjects(x.DEFAULT_PRIVACY_SETTINGS,e),this._statistics=x._combineObjects(x.DEFAULT_STATISTICS,e),this._uiState=x._combineObjects(x.DEFAULT_UI_STATE,e),this._testFlags=x._combineObjects(x.DEFAULT_TEST_FLAGS,e),e.uniqueId?this._uniqueId=e.uniqueId:(this._uniqueId=x._generateUniqueId(),this._storage.set({uniqueId:this._uniqueId})),this._statistics.firstVisit||this.updateStatistics({firstVisit:Math.round(Date.now()/1e3)})})),t=this._managedStorage.get().then((e=>{this._managedSettings=x._combineObjects(x.DEFAULT_MANAGED_SETTINGS,e)})).catch((()=>{this._managedSettings=x._combineObjects(x.DEFAULT_MANAGED_SETTINGS,{})}));Promise.all([e,t]).then((()=>{this._isInitialized=!0,this._onReadyCallbacks.forEach((e=>e(this))),this._onReadyCallbacks=[]}))}isReady(){return this._isInitialized}onReady(e){this._isInitialized?e(this):this._onReadyCallbacks.push(e)}getUniqueId(){return this._uniqueId}getSettings(){return E(this._settings)}updateSettings(t){for(const e in t)if(!x.DEFAULT_SETTINGS.hasOwnProperty(e))throw new Error(`Unknown setting ${e}`);if(Object.assign(this._settings||{},E(t)),void 0===t.dictionary||e.isFirefox()||this._splitInChunks(t,"dictionary"),void 0!==t.ignoredRules)for(const e of t.ignoredRules)null!==e.turnOffDate&&(e.turnOffDate=e.turnOffDate.toISOString());return this._storage.set(t)}getCheckSettings(e,t){if(!this._settings)return{isDomainDisabled:!1,isEditorGroupDisabled:!1,isAutoCheckEnabled:!0,shouldCapitalizationBeChecked:!0};if(e===B().runtime.id)return{isDomainDisabled:!1,isEditorGroupDisabled:!1,isAutoCheckEnabled:!0,shouldCapitalizationBeChecked:!0};const n=(this._settings.disabledEditorGroups||[]).some((n=>x._normalizeDomain(n.domain)===x._normalizeDomain(e)&&n.editorGroupId===t)),s=x._isListContainsDomain(this._settings.disabledDomains,e),r=!x._isListContainsDomain(this._settings.disabledDomainsCapitalization,e);if(this._settings.autoCheck){return{isDomainDisabled:s,isEditorGroupDisabled:n,isAutoCheckEnabled:!x._isListContainsDomain(this._settings.ignoreCheckOnDomains,e),shouldCapitalizationBeChecked:r}}return{isDomainDisabled:s,isEditorGroupDisabled:n,isAutoCheckEnabled:x._isListContainsDomain(this._settings.autoCheckOnDomains,e),shouldCapitalizationBeChecked:r}}hasLanguageToolAccount(){return Boolean(this._settings&&this._settings.username&&!this.hasCustomServer())}hasCustomServer(){return this._managedSettings&&this._managedSettings.apiServerUrl?this._managedSettings.apiServerUrl!==x.DEFAULT_SETTINGS.apiServerUrl:Boolean(this._settings&&this._settings.apiServerUrl&&this._settings.apiServerUrl.trim()&&this._settings.apiServerUrl!==L.MAIN_SERVER_URL&&this._settings.apiServerUrl!==L.PREMIUM_SERVER_URL)}getCustomServerUrl(){if(this.hasCustomServer())return this._managedSettings.apiServerUrl||this._settings.apiServerUrl}getManagedSettings(){return _(this._managedSettings)}getConfiguration(){return _(this._configuration)}updateConfiguration(e){for(const t in e)if(!x.DEFAULT_CONFIGURATION.hasOwnProperty(t))throw new Error(`Unknown configuration ${t}`);return Object.assign(this._configuration||{},_(e)),this._storage.set(e)}isDomainSupported(e){return!this._configuration||!this._configuration.unsupportedDomains.includes("*")&&!x._isListContainsDomain(this._configuration.unsupportedDomains,e)}getPrivacySettings(){return _(this._privacySettings)}updatePrivacySettings(e){for(const t in e)if(!x.DEFAULT_PRIVACY_SETTINGS.hasOwnProperty(t))throw new Error(`Unknown privacy setting ${t}`);return Object.assign(this._privacySettings||{},e),this._storage.set(e)}getStatistics(){return E(this._statistics)}updateStatistics(e){for(const t in e)if(!x.DEFAULT_STATISTICS.hasOwnProperty(t))throw new Error(`Unknown privacy setting ${t}`);return Object.assign(this._statistics||{},e),this._storage.set(e)}getUIState(){return E(this._uiState)}updateUIState(e){for(const t in e)if(!x.DEFAULT_UI_STATE.hasOwnProperty(t))throw new Error(`Unknown UI state ${t}`);return Object.assign(this._uiState||{},e),this._storage.set(e)}checkForPaidSubscription(){return new Promise(((e,t)=>{this.onReady((()=>{const{username:n,password:s,token:r}=this.getSettings();let i;this.hasCustomServer()&&(i=this.getCustomServerUrl()),ne.checkForPaidSubscription(n,s,r,i).then((t=>{t?(this.enablePaidSubscription(),this.grantUnlimitedRephrasings()):(this.disablePaidSubscription(),this.restrictRephrasings()),e(t)})).catch(t)}))}))}getTestFlags(){return _(this._testFlags)}updateTestFlags(e){for(const t in e)if(!x.DEFAULT_TEST_FLAGS.hasOwnProperty(t))throw new Error(`Unknown test flag ${t}`);return Object.assign(this._testFlags||{},e),this._storage.set(e)}getActiveCoupon(){const{changelogNov2022CountdownEnd:e,changelogNov2022Coupon:t,hasPaidSubscription:n}=this.getUIState();if(n)return null;if(e&&t&&Date.now()<e){const n=20,{geoIpCountry:s}=this.getSettings(),r=this._getDefaultCoupon(s);return r&&r.percent>n?Object.assign(Object.assign({},r),{expires:e}):{code:t,expires:e,percent:n}}return null}_getDefaultCoupon(e){for(const t in L.COUNTRY_COUPON_MAPPING)if(L.COUNTRY_COUPON_MAPPING.hasOwnProperty(t)&&L.COUNTRY_COUPON_MAPPING[t].countries.includes(e))return{code:t,percent:L.COUNTRY_COUPON_MAPPING[t].percent};return null}isRelevantForChangelogCoupon(){if(this.hasCustomServer())return{status:!1,reason:1};const{geoIpCountry:e}=this.getSettings();if("RU"===e)return{status:!1,reason:2};const{hasPaidSubscription:t}=this.getUIState();if(t)return{status:!1,reason:3};let{firstVisit:n,appliedSuggestions:s}=this.getStatistics();if(!n)return{status:!1,reason:4};n*=1e3;return Date.now()-n<6048e5?{status:!1,reason:5}:s<8?{status:!1,reason:6}:{status:!0}}startChangelogCoupon(){if(!this.canStartChangelogCoupon())return;const e=Date.now();var t,n;this.updateUIState({changelogNov2022Coupon:"2022-NOV-CHANGELOG",changelogNov2022CountdownEnd:e+1656e5+(t=0,n=72e5,t=Math.ceil(t),n=Math.floor(n),Math.floor(Math.random()*(n-t+1))+t)})}isChangelogCouponRunning(){if(!this.isRelevantForChangelogCoupon().status)return!1;const{changelogNov2022CountdownEnd:e}=this.getUIState();return Boolean(e&&e>Date.now())}canStartChangelogCoupon(){if(!this.isRelevantForChangelogCoupon().status)return!1;const e=Date.now(),{changelogNov2022CountdownEnd:t}=this.getUIState();return!t||e-t>L.COUPON_INTERVAL}destroy(){this._isInitialized=!1,super.destroy();try{B().storage.onChanged.removeListener(this._onStoredDataChanged)}catch(e){}}}
/*! (C) Copyright 2020 LanguageTooler GmbH. All rights reserved. */
class re{static init(){if(re._isInitialized)return;this.TRACKING_SITE_ID=N.getTrackingId(),this.VERSION=N.getVersion(),this._storageController=k.create();const e=N.getURL("/");self.addEventListener("error",(t=>{const n=t.message,s=t.filename,r=t.lineno,i=t.error;if(!s||!s.startsWith(e))return;if("string"!=typeof n)return;if(n.includes("ResizeObserver"))return;const a=i&&function(e){if(!e.stack)return;let t=[];if(e.stack.split(/\n/).forEach((e=>{const n=e.match(/([\w_<>]+)\s+\(.+?([\w_\-]+\.(js|html))/);n&&t.push(`${n[2]}:${n[1]}`)})),!t.length){const n=e.stack.match(/([\w_\-]+\.(js|html))/);n&&t.push(n[1])}return t.join(",").substr(0,140)}(i);a?re.trackError("js",n,a):re.trackError("js",n,`${s}:${r}`)})),re._isInitialized=!0}static getCustomDimensions(){const e=re._storageController.getSettings(),t=re._storageController.getUIState();return{dimension2:this.VERSION,dimension3:String(t.hasPaidSubscription),dimension4:String(Boolean(e.username&&(e.password||e.token))),dimension5:e.preferredLanguages.join(","),dimension6:String(e.hasPickyModeEnabledGlobally)}}static _getTrackingUrlForPageView(e){return e=(e=e.replace(/^(chrome|moz|safari|edge)-extension:\/\/.+?\//i,"")).replace(/^[a-z0-9]{8}\//i,"/"),e=`${re.TRACKING_BASE_PAGE_URL}${e}`,new Promise(((t,n)=>{re._storageController.onReady((()=>{var n,s,r,i;const{firstVisit:a,sessionCount:o}=re._storageController.getStatistics(),l=re._storageController.getUniqueId(),c=new URL(re.TRACKING_BASE_URL),g=[null!==(s=null===(n=self.screen)||void 0===n?void 0:n.width)&&void 0!==s?s:0,null!==(i=null===(r=self.screen)||void 0===r?void 0:r.height)&&void 0!==i?i:0],d=Object.assign({idsite:re.TRACKING_SITE_ID,rec:"1",url:e,rand:String(Date.now()),apiv:"1",res:g.join("x"),_id:String(l),_idts:String(a),_idvc:String(o)},this.getCustomDimensions());for(const[e,t]of Object.entries(d))c.searchParams.append(e,t);t(c.toString())}))}))}static _getTrackingUrlForEvent(e,t,n="",s){return s=s||re.TRACKING_BASE_PAGE_URL,new Promise(((r,i)=>{re._storageController.onReady((()=>{var i,a,o,l;const{firstVisit:c,sessionCount:g}=re._storageController.getStatistics(),d=re._storageController.getUniqueId(),u=new URL(re.TRACKING_BASE_URL),m=[null!==(a=null===(i=self.screen)||void 0===i?void 0:i.width)&&void 0!==a?a:0,null!==(l=null===(o=self.screen)||void 0===o?void 0:o.height)&&void 0!==l?l:0],h=Object.assign({idsite:re.TRACKING_SITE_ID,rec:"1",url:s||"",action_name:t,rand:String(Date.now()),apiv:"1",res:m.join("x"),_id:d,_idts:String(c),_idvc:String(g),e_c:e,e_a:t,e_n:null!=n?n:""},this.getCustomDimensions());for(const[e,t]of Object.entries(h))u.searchParams.append(e,t);r(u.toString())}))}))}static _sendRequest(e){!N.shouldTrack()||re._storageController.hasCustomServer()||navigator.webdriver||T(e,{mode:"no-cors",referrerPolicy:"no-referrer"},1e4).catch((()=>null))}static trackPageView(e){e=e||I(),re._getTrackingUrlForPageView(e).then((t=>{N.isProductionEnvironment()?re._sendRequest(t):console.log("LT Page view tracking disabled in dev mode",{pageUrl:e,trackingUrl:t})})).catch((e=>{console.log("LT could not track because:",e&&e.message)}))}static trackDisabledRule(e,t,n,s){if(!e.match(/^de|en|nl|es|fr|ca|pt/i))return;const r=s?L.PACKAGE.PREMIUM:L.PACKAGE.BASIC,i=e+":"+t,a=n,o=new URL(re.TRACKING_BASE_URL);o.searchParams.append("idsite","18"),o.searchParams.append("rec","1"),o.searchParams.append("url",re.TRACKING_BASE_PAGE_URL),o.searchParams.append("action_name",r),o.searchParams.append("rand",String(Date.now())),o.searchParams.append("apiv","1"),o.searchParams.append("_id",this._storageController.getUniqueId()),o.searchParams.append("e_c",r),o.searchParams.append("e_a",i),o.searchParams.append("e_n",n),N.isProductionEnvironment()?this._sendRequest(o.toString()):console.log("LT Event tracking disabled in dev mode",{actionCategory:r,action:i,actionName:a,trackingUrl:o})}static trackDictionaryEvent(e,t,n=!1){if(!e.match(/^de|en|nl|es|fr|it|pt|ru|ca|pl/i))return;const s=n?"TemporaryIgnored":"PersistentlyIgnored",r=`${e}:add_word`,i=t,a=new URL(re.TRACKING_BASE_URL);a.searchParams.append("idsite","19"),a.searchParams.append("rec","1"),a.searchParams.append("url",re.TRACKING_BASE_PAGE_URL),a.searchParams.append("action_name",s),a.searchParams.append("rand",String(Date.now())),a.searchParams.append("apiv","1"),a.searchParams.append("_id",this._storageController.getUniqueId()),a.searchParams.append("e_c",s),a.searchParams.append("e_a",r),a.searchParams.append("e_n",t),N.isProductionEnvironment()?this._sendRequest(a.toString()):console.log("LT Event tracking disabled in dev mode",{actionCategory:s,action:r,actionName:i,trackingUrl:a})}static trackEvent(e,t,n,s){this._getTrackingUrlForEvent(e,t,n,s).then((s=>{N.isProductionEnvironment()?this._sendRequest(s):console.log("LT Event tracking disabled in dev mode",{actionCategory:e,action:t,actionName:n,trackingUrl:s})})).catch((e=>{console.log("LT could not track because:",e&&e.message)}))}static trackInstall(){re.trackEvent("Action","install",O.getPrimaryLanguageCode(navigator.language)),this._storageController.updateUIState({isNewUser:!0})}static trackActivity(){this._storageController.onReady((()=>{const e=Date.now(),{sessionCount:t,lastActivity:n}=this._storageController.getStatistics();(!n||e-n>re.ACTIVITY_TRACK_INTERVAL)&&this._storageController.updateStatistics({sessionCount:t+1,lastActivity:e}).then((()=>{this.trackEvent("Action","ping",O.getPrimaryLanguageCode(navigator.language)),this.trackUserActivity()}))}))}static trackActiveAfterOneWeek(){this._storageController.onReady((()=>{const e=Date.now(),{firstVisit:t}=this._storageController.getStatistics(),{isNewUser:n}=this._storageController.getUIState();if(n&&t){const n=6048e5,s=e-1e3*t;s>n&&s<8*n&&this._storageController.updateUIState({isNewUser:!1}).then((()=>{this.trackEvent("Action","active_after_one_week",O.getPrimaryLanguageCode(navigator.language))})).catch((()=>null))}}))}static trackUserActivity(){this._storageController.onReady((()=>{const{username:t}=this._storageController.getSettings();if(!t||this._storageController.hasCustomServer())return;const n=new FormData;n.append("email",t),n.append("useragent",e.getUserAgentIdentifier()),T(L.PING_URL,{method:"POST",mode:"cors",credentials:"omit",body:n},1e4).catch((()=>null))}))}static trackError(t,n,s=""){try{if(e.isUnsupportedBrowser())return;if(re._errorCount++,re._errorCount>L.MAX_EXCEPTION_COUNT)return;if("string"!=typeof n)return;if(re._loggedErrors)if(re._loggedErrors.length<re.THROTTLE_REQUESTS)re._loggedErrors.push(Date.now());else{const e=Date.now();if(!(e-re._loggedErrors[0]>=re.MAX_TIME))return;re._loggedErrors.push(e),re._loggedErrors.splice(0,1)}else re._loggedErrors=[Date.now()];let r="JS-Error";"message"===t?r="Message-Error":"http"===t?r="HTTP-Error":"other"===t&&(r="Other-Error");let i=I();i=i.replace(/^moz-extension:\/\/[a-z0-9\-]+\//,"moz-extension://xxxx-xxxx-xxxx-xxxx/"),i.match(/(chrome|moz|safari)\-extension:/)||(i=void 0),this.trackEvent(r,n,s||i,i)}catch(e){console.error("Error while logging error from language tool",e)}}static trackStat(e,t){0===Math.floor(10*Math.random())&&re.trackEvent("Stat",e,t)}static trackTextLength(e){if(0===e)return;let t="";t=e<=100?"1-100":e<=1e3?"101-1000":e<=2500?"1001-2500":e<=5e3?"2501-5000":e<=7500?"5001-7500":e<=1e4?"7501-10000":e<=15e3?"10001-15000":e<=2e4?"15001-20000":e<=4e4?"20001-40000":e<=6e4?"40001-60000":e<=8e4?"60001-80000":e<=1e5?"80001-100000":">100000",this.trackStat("text_length",t)}}re.TRACKING_BASE_URL="https://analytics.languagetoolplus.com/matomo/piwik.php",re.TRACKING_BASE_PAGE_URL="https://fake/",re.ACTIVITY_TRACK_INTERVAL=864e5,re.MAX_TIME=6e4,re.THROTTLE_REQUESTS=10,re._isInitialized=!1,re._loggedErrors=null,re._errorCount=0;class ie{constructor(e,t,n,s){this._className=e,this._type=t,this._size=n,this._parentElement=s,this._document=s.ownerDocument,this._render()}_render(){this._element=this._document.createElement("lt-div"),this._element.classList.add("lt-package-badge","lt-package-badge--"+this._type,"lt-package-badge--"+this._size),this._element.textContent=this._type,this._parentElement.appendChild(this._element)}getElement(){return this._element}}P.init(new
/*! (C) Copyright 2020 LanguageTooler GmbH. All rights reserved. */
class extends v{addEventListener(e,t){}setLocale(e){}getMessage(e,t){return B().i18n.getMessage?B().i18n.getMessage(e,t):e}}),k.init((()=>new se)),N.init(new
/*! (C) Copyright 2020 LanguageTooler GmbH. All rights reserved. */
class extends R{constructor(){super(...arguments),this._isProductionEnvironmentCached=null}isProductionEnvironment(){if(null===this._isProductionEnvironmentCached){if(e.isSafari())return!0;e.isFirefox()||e.isThunderbird()?this._isProductionEnvironmentCached=!B().runtime.id.match("languagetool.dev"):this._isProductionEnvironmentCached="update_url"in B().runtime.getManifest()}return this._isProductionEnvironmentCached}isRuntimeConnected(){try{return B().runtime.getManifest(),!0}catch(e){return!1}}getVersion(){if(this.isRuntimeConnected()){const e=B().runtime.getManifest();return e&&e.version?e.version:"unknown"}return"unknown"}getTrackingId(){return e.isSafari()?"13":e.isThunderbird()?"22":"12"}shouldTrack(){return"1"!==navigator.doNotTrack}getType(){return"extension"}getURL(e){return B().runtime.getURL(e)}getUILanguageCode(){return B().i18n.getUILanguage?B().i18n.getUILanguage():navigator.language}openWindow(e){B().runtime.sendMessage({command:"OPEN_URL",url:e})}injectExecutor(){return new Promise(((e,t)=>{const n=setTimeout((()=>{t()}),2e3),s=function(){const e=document.createElement("script");return e.setAttribute("data-cookieconsent","ignore"),e}();s.src=B().runtime.getURL("/content/executor.js"),s.async=!0,s.setAttribute("fetchpriority","low"),s.onload=function(){s.remove(),clearTimeout(n),e()},s.onerror=function(){s.remove(),clearTimeout(n),t()},(document.head||document.documentElement).appendChild(s)}))}destroyExecutor(){Y(document,"lt-execute-destroy")}executeScript(e,t){const n=new self.Object;n.code=t,Y(e,"lt-execute-code",n)}linkInputAreaProperties(e){Y(e,"lt-execute-link-properties")}ping(){return new Promise(((e,t)=>{const n=self.setTimeout((()=>t("timeout")),5e3);B().runtime.sendMessage({command:"MANIFEST_V3_PING"}).then((s=>{self.clearTimeout(n),"success"===s?e():t("unknown")})).catch((()=>{self.clearTimeout(n),t("error")}))}))}loadContentScripts(e,t){return this.isRuntimeConnected()?(B().runtime.getManifest().content_scripts.forEach((n=>{if("js"===t&&n.js){const t=n.js.map((e=>{const t=this.getURL(e);return fetch(t).then((e=>e.text()))}));return Promise.all(t).then((t=>{const n=t.join("\n");if("safari"in e)try{e.eval("window.safari = window.safari || window.parent.safari;")}catch(e){}e.eval(n)}))}if("css"===t&&n.css){const t=n.css.map((e=>{const t=this.getURL(e);return fetch(t).then((e=>e.text()))}));return Promise.all(t).then((t=>{t.forEach((t=>{const n=e.document.createElement("style");n.textContent=t,(e.document.head||e.document.documentElement).appendChild(n)}))}))}})),Promise.resolve()):Promise.reject()}initializeLTAssistant(e,t={}){return Promise.resolve()}getPreferredLanguages(){return B().runtime.sendMessage({command:"GET_PREFERRED_LANGUAGES"})}startDictionarySync(){return B().runtime.sendMessage({command:"START_DICTIONARY_SYNC"})}updateDictionary(){return B().runtime.sendMessage({command:"UPDATE_DICTIONARY"})}addWordToDictionary(e){const t={command:"ADD_WORD_TO_DICTIONARY",word:e};return B().runtime.sendMessage(t)}addWordsToDictionary(e){const t={command:"BATCH_ADD_WORDS_TO_DICTIONARY",words:e};return B().runtime.sendMessage(t)}removeWordFromDictionary(e){const t={command:"REMOVE_WORD_FROM_DICTIONARY",word:e};return B().runtime.sendMessage(t)}clearDictionary(){return B().runtime.sendMessage({command:"CLEAR_DICTIONARY"})}loadSynonyms(e,t,n){const s={command:"LOAD_SYNONYMS",wordContext:e,language:t,motherLanguage:n};return B().runtime.sendMessage(s)}abortSynonymsRequest(){return B().runtime.sendMessage({command:"ABORT_SYNONYMS_REQUEST"})}loadPhrases(e,t,n,s,r){const i={command:"LOAD_PHRASES",uuid:e,phrase:t,language:n,inhouseOnly:s,user:r};return B().runtime.sendMessage(i)}reportPhrase(e,t){const n={command:"REPORT_PHRASE",uuid:e,report:t};return B().runtime.sendMessage(n)}abortPhraseRequests(e){const t={command:"ABORT_PHRASE_REQUESTS",type:e};return B().runtime.sendMessage(t)}trackEvent(e,t){const n={command:"TRACK_EVENT",action:e,label:t};return B().runtime.sendMessage(n)}trackTextLength(e){const t={command:"TRACK_TEXT_LENGTH",textLength:e};return B().runtime.sendMessage(t)}pageLoaded(e,t,n,s,r,i){const a={command:"PAGE_LOADED",enabled:e,capitalization:t,supported:n,beta:s,unsupportedMessage:r,isDarkMode:i};return B().runtime.sendMessage(a)}ltAssistantStatusChanged(e,t){const n="object"==typeof e?e:t,s={command:"LTASSISTANT_STATUS_CHANGED",tabId:"number"==typeof e?e:void 0,enabled:n.enabled,capitalization:n.capitalization};return B().runtime.sendMessage(s)}check(e,t,n,s,r,i){const a={command:"CHECK_TEXT",text:t,changedParagraphs:n,language:e.language,forceLanguage:e.forceLanguage,hasUserChangedLanguage:i,metaData:s,options:r};return B().runtime.sendMessage(a)}isOptionsPageSupported(){return!0}openOptionsPage(e,t){const n={command:"OPEN_OPTIONS",target:e,ref:t};return B().runtime.sendMessage(n)}isFeedbackFormSupported(){return!0}openFeedbackForm(e,t="",n=""){const s={command:"OPEN_FEEDBACK_FORM",url:e,title:t,html:n};return B().runtime.sendMessage(s)}openPremiumPage(e,t=0,n=0,s=0,r="",i){const a={command:"OPEN_PREMIUM_PAGE",campaign:e,hiddenGrammarMatches:t,hiddenStyleMatches:n,hiddenPunctuationMatches:s,historicMatches:r,textLanguage:i||void 0};return B().runtime.sendMessage(a)}checkForPaidSubscription(){return B().runtime.sendMessage({command:"CHECK_FOR_PAID_SUBSCRIPTION"})}}),re.init();const ae=document.getElementById("banner"),oe=document.getElementById("login"),le=document.getElementById("login-options"),ce=document.getElementById("logout-button"),ge=document.getElementById("manage-account-button"),de=document.getElementById("login-popup-button"),ue=document.getElementById("lt-options__package-badge-container"),me=document.getElementById("managed-login"),he=document.getElementById("managed-login-options"),_e=document.getElementById("managed-login-button"),Ee=document.getElementById("managed-logout-button"),pe=document.getElementById("lt-options-discount"),Ae=document.getElementById("toggleSynonymsSwitch"),fe=document.getElementById("togglePickyModeSwitch"),Se=document.getElementById("openCardHotkey"),Ie=document.getElementById("personalDictionary"),Ce=document.getElementById("personalDictionary-options"),ye=document.getElementById("personalDictionaryList"),Te=document.getElementById("personalDictionaryInput"),Re=document.getElementById("addToPersonalDictionary"),Ne=document.getElementById("personalDictionary-options__clearAll"),Le=document.getElementById("personalDictionary-options__copy"),be=document.getElementById("ignoredRules"),ve=document.getElementById("ignoredRules-options"),Pe=document.getElementById("ignoredRulesList"),Oe=document.getElementById("ignoredRules-options__clearAll"),De=document.getElementById("disabledDomains"),xe=document.getElementById("disabledDomains-options"),ke=document.getElementById("disabledDomainsList"),Ue=document.getElementById("disabledDomainsInput"),Me=document.getElementById("addToDisabledDomains"),we=document.getElementById("disabledDomains-options__clearAll"),Ge=document.getElementById("language"),Be=document.getElementById("language-options"),Fe=document.getElementById("preferred-languages-count"),We=document.getElementById("preferred-languages"),He=document.getElementById("new-preferred-languages"),Ve=document.getElementById("experimental"),Ze=document.getElementById("experimental-options"),Ye=document.getElementById("serverUrl"),Ke=document.getElementById("serverUrlFieldset"),$e=document.getElementById("serverUrl-disabled"),ze=document.getElementById("serverType-cloud"),Xe=document.getElementById("serverType-local"),je=document.getElementById("serverType-custom"),qe=document.getElementById("localServerAvailabilityWarning"),Je=document.getElementById("retryLocalServer"),Qe=document.getElementById("customServerUrl"),et=document.getElementById("motherTongue"),tt=document.getElementById("variant-en"),nt=document.getElementById("variant-de"),st=document.getElementById("variant-pt"),rt=document.getElementById("variant-ca"),it=document.getElementById("oxfordSpellingOption"),at=document.getElementById("autoCheckAllDomains"),ot=document.getElementById("autoCheckDomains-options"),lt=document.getElementById("autoCheckDomains"),ct=document.getElementById("autoCheckDomainInput"),gt=document.getElementById("addToAutoCheckDomains"),dt=document.getElementById("autoCheckDomains-options__clearAll"),ut=document.getElementById("ignoredDomains-options"),mt=document.getElementById("ignoredDomains"),ht=document.getElementById("ignoredDomainInput"),_t=document.getElementById("addToIgnoredDomains"),Et=document.getElementById("ignoredDomains-options__clearAll"),pt=document.getElementById("copyright-link"),At=document.getElementById("synonyms-toggle-wrapper"),ft=document.getElementById("current-year"),St=document.querySelectorAll("[data-lt-nice-select]"),It=/^(https?:\/\/)?localhost(:[0-9]{1,5})?(\/.*)?$/i,Ct=/^(https?:\/\/)?[a-z0-9]+([-.]{1}[a-z0-9]+)*\.[a-z]{2,15}(:[0-9]{1,5})?(\/.*)?$/i,yt=/^(?:https?:\/\/)?(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}(?::[0-9]{1,5})?$/,Tt=k.create();function Rt(e){return It.test(e)||Ct.test(e)||yt.test(e)}function Nt(){const{hasPaidSubscription:e}=Tt.getUIState();document.body.classList.toggle("lt-options--plus",e),ue.innerHTML="",new ie(null,e?"premium":"basic","default",ue),function(){const{username:e,token:t,password:n}=Tt.getSettings(),s=document.getElementById("lt-login"),r=document.getElementById("lt-account");e&&(n||t)?(s.style.display="none",r.style.display="block",$e.style.display="block",Ke.setAttribute("disabled",""),H("#account-text",{key:"settingsLoggedInAs",isHTML:!0,interpolations:[`<strong>${e}</strong>`]})):(s.style.display="block",r.style.display="none",$e.style.display="none",Ke.removeAttribute("disabled"))}(),Lt()}function Lt(){const{apiServerUrl:e,disablePersonalDictionary:t,disableIgnoredRules:n,loginUrl:s}=Tt.getManagedSettings(),{username:r,token:i,password:a}=Tt.getSettings();t&&(Ie.style.display="none",Ce.style.display="none"),n&&(be.style.display="none",ve.style.display="none"),e&&(Ye.style.display="none",ae.style.display="none"),s&&(ae.style.display="none",oe.style.display="none",le.style.display="none",ge.style.display="none",me.style.display="",he.style.display="");const o=document.getElementById("managed-login-box"),l=document.getElementById("managed-logout-box");r&&(a||i)?(o.style.display="none",l.style.display="block",H("#managed-account-text",{key:"settingsLoggedInAs",isHTML:!0,interpolations:[`<strong>${r}</strong>`]})):(o.style.display="block",l.style.display="none")}function bt(e){if(!(e.target instanceof HTMLButtonElement))return;const t=e.target.closest("[data-preferred-language]");if(!t||"string"!=typeof t.dataset.preferredLanguage)return;const{preferredLanguages:n}=Tt.getSettings(),s=n.indexOf(t.dataset.preferredLanguage);-1!==s&&(Tt.updateSettings({preferredLanguages:n.slice(0,s).concat(n.slice(s+1))}),Pt())}function vt(e){if(!(e.target instanceof HTMLSelectElement))return;const{preferredLanguages:t}=Tt.getSettings();Tt.updateSettings({preferredLanguages:h(t.concat([e.target.value]))}),Pt()}function Pt(){var e;const{preferredLanguages:t}=Tt.getSettings(),n=Array.from(document.querySelectorAll("[data-preferred-language]")),s=Array.from(He.querySelectorAll("optgroup"));n.concat(s).forEach((e=>{e.remove()})),t.forEach((e=>{const t=O.ALL_LANGUAGES.find((({code:t})=>t===e));if(!t)return;const n=Object.assign(document.createElement("span"),{textContent:t.name,className:"lt-pill-box__item__text"}),s=Object.assign(document.createElement("button"),{className:"lt-pill-box__item__delete lt-icon lt-icon__close_small",type:"button"}),r=Object.assign(document.createElement("div"),{className:"lt-pill-box__item lt-pill-box__item--option"});r.dataset.preferredLanguage=e,r.appendChild(n),r.appendChild(s),We.insertBefore(r,He.parentNode)}));const r=document.createElement("optgroup"),i=document.createElement("optgroup");O.ALL_LANGUAGES.forEach((e=>{if(t.includes(e.code))return;const n=Object.assign(document.createElement("option"),{value:e.code,textContent:e.name});O.POPULAR_LANGUAGES.includes(e.code)&&r.appendChild(n.cloneNode(!0)),i.appendChild(n)})),r.setAttribute("data-t-attr",JSON.stringify(["label","settingsPreferredLanguagesPopularList"])),i.setAttribute("data-t-attr",JSON.stringify(["label","settingsPreferredLanguagesCompleteList"])),He.appendChild(r),He.appendChild(i),Fe.textContent=t.length?`(${t.length})`:"",V(He);const a=document.createElement("span");a.classList.add("lt-icon__info"),a.addEventListener("click",Xt),null===(e=it.parentElement)||void 0===e||e.appendChild(a)}function Ot(e,t){e.value=t,e.dispatchEvent(new Event("change",{bubbles:!0}))}function Dt(){Tt&&(Ae.classList.add("lt-toggle--checked"),Tt.updateSettings({hasSynonymsEnabled:!0}))}function xt(){Tt&&(Ae.classList.remove("lt-toggle--checked"),Tt.updateSettings({hasSynonymsEnabled:!1}))}function kt(){Tt&&(fe.classList.add("lt-toggle--checked"),Tt.updateSettings({hasPickyModeEnabledGlobally:!0}))}function Ut(){Tt&&(fe.classList.remove("lt-toggle--checked"),Tt.updateSettings({hasPickyModeEnabledGlobally:!1}))}function Mt(e=U.getSorted(),t=0===U.get().length){ye.innerHTML="";for(const t of e){const e=document.createElement("li");e.className="lt-personal-dictionary__item";const n=document.createElement("span");n.className="lt-personal-dictionary__title",n.textContent=t,n.title=t,e.appendChild(n);const s=document.createElement("span");s.className="lt-personal-dictionary__delete-button",s.dataset.word=t,s.addEventListener("click",Bt),e.appendChild(s),ye.appendChild(e)}const n=document.getElementById("personalDictionary-optionsInside"),s=document.getElementById("personalDictionary-options__emptyState"),r=document.getElementById("personalDictionary-options__emptySearch");e.length>0?(n.style.display="block",s.style.display="none",r.style.display="none"):t?(n.style.display="none",s.style.display="block",r.style.display="none"):(n.style.display="none",s.style.display="none",r.style.display="block")}function wt(){const e=Te.value;Re.disabled=""===e.trim();const t=U.getSorted(),n=[];for(const s of t)s.includes(e)&&n.push(s);Mt(n,0===t.length)}function Gt(){const{username:e,password:t,token:n}=Tt.getSettings(),s=e&&(t||n),r=document.getElementById("personalDictionary-error"),i=Te.value.trim(),a=Boolean(i.match(/\s+/));i&&(s||!a?(U.add(i).then((()=>Mt())),Te.value="",Re.disabled=!0):(H(r,"personalDictionaryMultipleWordError"),r.style.display="block",F(3e3).then((()=>Z(r,(()=>{r.style.display="",r.style.opacity=""}))))))}function Bt(e){const t=e.currentTarget.dataset.word;t&&U.remove(t).then(wt)}function Ft(){Pe.innerHTML="";const e=Tt.getSettings().ignoredRules.filter((e=>"OXFORD_SPELLING_Z_NOT_S"!==e.id)),t=P.getMessage("enableRuleTooltip");for(const n of e){if(n.language){const e=O.getUserLanguageCodes().some((e=>n.language.toLowerCase().startsWith(e)||"*"===n.language));if(x.getDefaultSettings().ignoredRules.some((e=>e.id===n.id))&&!e)continue}const e=document.createElement("li");e.className="lt-options__rules__item";const s=document.createElement("span");s.className="lt-options__rules__title",s.textContent="- "+(n.description||n.id),e.appendChild(s);const r=document.createElement("span");r.className="lt-options__rules__enable-button",r.setAttribute("title",t),r.dataset.ruleId=n.id,r.textContent=t,r.addEventListener("click",Wt),e.appendChild(r),Pe.appendChild(e)}const n=document.getElementById("ignoredRules-optionsInside"),s=document.getElementById("ignoredRules-options__emptyState");e.length>0?(n.style.display="block",s.style.display="none"):(n.style.display="none",s.style.display="block")}function Wt(e){const t=e.currentTarget.dataset.ruleId;t&&Tt.removeIgnoredRule(t).then(Ft)}function Ht(e=Tt.getSettings().disabledDomains,t=Tt.getSettings().disabledDomains.length>0){ke.innerHTML="";const n=P.getMessage("settingsEnableDomain");for(const t of e){const e=document.createElement("li");e.className="lt-options__rules__item";const s=document.createElement("span");s.className="lt-options__rules__title",s.textContent="● "+t,e.appendChild(s);const r=document.createElement("span");r.className="lt-options__rules__enable-button",r.setAttribute("title",n),r.dataset.domain=t,r.textContent=n,r.addEventListener("click",Yt),e.appendChild(r),ke.appendChild(e)}const s=document.getElementById("disabledDomains-optionsInside"),r=document.getElementById("disabledDomains-options__emptyState"),i=document.getElementById("disabledDomains-options__emptySearch");e.length>0?(s.style.display="block",r.style.display="none",i.style.display="none"):t?(s.style.display="none",r.style.display="block",i.style.display="none"):(s.style.display="none",r.style.display="none",i.style.display="block")}function Vt(){const e=Ue.value;Me.disabled=""===e.trim();const t=Tt.getSettings().disabledDomains.sort(((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase()))),n=[];for(const s of t)s.includes(e)&&n.push(s);Ht(n,0===t.length)}function Zt(){const e=Ue.value.trim(),t=C(e,"");if(""===t.trim()||!Rt(e))return void alert(P.getMessage("settingsDomainInvalid"));Ue.value="",Me.disabled=!0;const n=Tt.getSettings().disabledDomains;n.includes(t)?Ht(n,!1):(n.push(t),Tt.updateSettings({disabledDomains:n}).then((()=>Ht(n,!1))))}function Yt(e){const t=e.currentTarget.dataset.domain;if(t){const e=Tt.getSettings().disabledDomains.filter((e=>e!==t));Tt.updateSettings({disabledDomains:e}).then(Vt)}}function Kt(){$t(je.checked),Xe.checked?zt():qe.style.display="none"}function $t(e=!1){Qe.style.display=e?"block":"none",Qe.required=e,e?Qe.value=Qe.dataset.prevValue||"":(Qe.dataset.prevValue=Qe.value,Qe.value="")}function zt(){fetch(L.LOCAL_SERVER_URL+"/languages",{method:"GET",mode:"cors"}).then((()=>{qe.style.display="none"})).catch((()=>{qe.style.display="block"}))}function Xt(){N.openWindow("https://languagetool.org/insights/post/ise-ize/")}function jt(e=!1){ot.style.display=e?"none":"",ut.style.display=e?"":"none"}function qt(e=Tt.getSettings().autoCheckOnDomains,t=0===Tt.getSettings().autoCheckOnDomains.length){lt.innerHTML="";const n=P.getMessage("settingsDeleteAutoCheckDomain");for(const t of e){const e=document.createElement("li");e.className="lt-options__rules__item";const s=document.createElement("span");s.className="lt-options__rules__title",s.textContent="● "+t,e.appendChild(s);const r=document.createElement("span");r.className="lt-options__rules__enable-button",r.setAttribute("title",n),r.dataset.domain=t,r.textContent=n,r.addEventListener("click",en),e.appendChild(r),lt.appendChild(e)}const s=document.getElementById("autoCheckDomains-optionsInside"),r=document.getElementById("autoCheckDomains-options__emptyState"),i=document.getElementById("autoCheckDomains-options__emptySearch");e.length>0?(s.style.display="block",r.style.display="none",i.style.display="none"):t?(s.style.display="none",r.style.display="block",i.style.display="none"):(s.style.display="none",r.style.display="none",i.style.display="block")}function Jt(){const e=ct.value;gt.disabled=""===e.trim();const t=Tt.getSettings().autoCheckOnDomains.sort(((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase()))),n=[];for(const s of t)s.includes(e)&&n.push(s);qt(n,0===t.length)}function Qt(){const e=ct.value.trim(),t=C(e,"");if(""===t.trim()||!Rt(e))return void alert(P.getMessage("settingsDomainInvalid"));ct.value="",gt.disabled=!0;const n=Tt.getSettings().autoCheckOnDomains;n.includes(t)?qt(n,!1):(n.push(t),Tt.updateSettings({autoCheckOnDomains:n}).then((()=>qt(n,!1))))}function en(e){const t=e.currentTarget.dataset.domain;if(t){const e=Tt.getSettings().autoCheckOnDomains.filter((e=>e!==t));Tt.updateSettings({autoCheckOnDomains:e}).then((()=>qt(e,0===e.length)))}}function tn(e=Tt.getSettings().ignoreCheckOnDomains,t=0===Tt.getSettings().ignoreCheckOnDomains.length){mt.innerHTML="";const n=P.getMessage("settingsDeleteIgnoredDomain");for(const t of e){const e=document.createElement("li");e.className="lt-options__rules__item";const s=document.createElement("span");s.className="lt-options__rules__title",s.textContent="● "+t,e.appendChild(s);const r=document.createElement("span");r.className="lt-options__rules__enable-button",r.setAttribute("title",n),r.dataset.domain=t,r.textContent=n,r.addEventListener("click",rn),e.appendChild(r),mt.appendChild(e)}const s=document.getElementById("ignoredDomains-optionsInside"),r=document.getElementById("ignoredDomains-options__emptyState"),i=document.getElementById("ignoredDomains-options__emptySearch");e.length>0?(s.style.display="block",r.style.display="none",i.style.display="none"):t?(s.style.display="none",r.style.display="block",i.style.display="none"):(s.style.display="none",r.style.display="none",i.style.display="block")}function nn(){const e=ht.value;_t.disabled=""===e.trim();const t=Tt.getSettings().ignoreCheckOnDomains.sort(((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase()))),n=[];for(const s of t)s.includes(e)&&n.push(s);tn(n,0===t.length)}function sn(){const e=ht.value.trim(),t=C(e);if(""===t.trim()||!Rt(e))return void alert(P.getMessage("settingsDomainInvalid"));ht.value="",_t.disabled=!0;const n=Tt.getSettings().ignoreCheckOnDomains;n.includes(t)?tn(n,!1):(n.push(t),Tt.updateSettings({ignoreCheckOnDomains:n}).then((()=>tn(n,!1))))}function rn(e){const t=e.currentTarget.dataset.domain;if(t){const e=Tt.getSettings().ignoreCheckOnDomains.filter((e=>e!==t));Tt.updateSettings({ignoreCheckOnDomains:e}).then((()=>tn(e,0===e.length)))}}self.__ltStorageController=Tt,V(document.documentElement),document.documentElement.lang=navigator.language,e.isSafari()?document.getElementById("haveAccountDesc").style.display="none":document.getElementById("haveAccountDesc").innerHTML=P.getMessage("haveAccountDesc")+" <a target='_blank' href='https://languagetool.org'>LanguageTool.org</a>",document.getElementById("privacyPolicy").innerHTML="<a target='_blank' href='https://languagetool.org/privacy/'>"+P.getMessage("privacyPolicy")+"</a>",Array.from(document.querySelectorAll("[data-premium-link]")).forEach((e=>{e.addEventListener("click",(e=>{B().runtime.sendMessage({command:"OPEN_PREMIUM_PAGE",campaign:"addon2-options"}),e.preventDefault()}))}));const an=location.hash.replace(/\?.*$/,""),on=document.querySelector(an||"#login");on&&on.nextElementSibling&&on.nextElementSibling.classList.contains("lt-toggle-box")&&(on.classList.add("lt-options-toggle--visible"),on.nextElementSibling.classList.add("lt-toggle-box--visible"),an&&document.documentElement.scrollTo(0,on.offsetTop-75));let ln;O.getUserLanguageCodes().some((e=>e.startsWith("de")||e.startsWith("fr")||e.startsWith("nl")))&&(document.getElementById("made-in-potsdam").style.display="inline"),Tt.onReady((function(){Nt(),Mt(),Ft(),Ht(),Lt(),Array.from(St).forEach((e=>{const t=e.querySelector("select");null==t||t.addEventListener("change",(()=>{const n=e.querySelector("span")||document.createElement("span"),s=Array.from(t.children).filter((e=>e instanceof HTMLOptionElement)).find((e=>e.value===t.value));n.parentNode&&n.parentNode.removeChild(n),n.textContent=(null==s?void 0:s.textContent)||"",e.insertBefore(n,t),e.dataset.ltNiceSelect=t.value}))})),We.addEventListener("click",bt),He.addEventListener("change",vt),Pt();const e=Tt.getSettings();e.apiServerUrl===L.MAIN_SERVER_URL?(ze.checked=!0,At.style.display=""):e.apiServerUrl===L.LOCAL_SERVER_URL?(Xe.checked=!0,At.style.display="none"):($t(!0),je.checked=!0,Qe.value=e.apiServerUrl,At.style.display="none"),Ot(Se,e.openCardHotkey),Ot(et,e.motherTongue),Ot(tt,e.enVariant),Ot(nt,e.deVariant),Ot(st,e.ptVariant),Ot(rt,e.caVariant),it.checked=!Tt.hasIgnoredRule("OXFORD_SPELLING_Z_NOT_S"),at.checked=e.autoCheck,jt(e.autoCheck),e.hasSynonymsEnabled?Dt():xt(),function(e){e?kt():Ut()}(e.hasPickyModeEnabledGlobally),qt(),tn(),Tt.addEventListener(x.eventNames.uiStateChanged,(e=>{var t;"boolean"==typeof(null===(t=e.hasPaidSubscription)||void 0===t?void 0:t.newValue)&&Nt()}))})),Tt.onReady((()=>{Tt.startChangelogCoupon();const e=Tt.getActiveCoupon();e&&(clearInterval(ln),ln=self.setInterval((()=>{pe.querySelector("#lt-options-dicount-percent").textContent=P.getMessage("upgradeTeaserDiscount",[e.percent]),pe.querySelector("#lt-options-discount-expires").textContent=` – ${P.getMessage("changelogDiscountExpires")} ${function(e){let t=e-Date.now();t<0&&(t=0);const n=Math.floor(t/1e3%60),s=Math.floor(t/1e3/60%60);return`${p(Math.floor(t/1e3/60/60))}:${p(s)}:${p(n)}`}(e.expires||0)}`,pe.classList.add("lt-options__discount--visible")}),1e3))})),U.init(Tt),re.trackPageView(),ce.addEventListener("click",(e=>{e.preventDefault(),function(){const e=document.getElementById("login-success"),t=document.getElementById("login-error");Tt.updateSettings({username:"",password:"",userId:null,token:"",isDictionarySynced:!1}).then((()=>{re.trackEvent("Action","logout"),e.style.display="block",H(e,"settingsLogoutSuccess")})).catch((()=>{t.style.display="block",H(t,"settingsUnknownError")})).then((()=>{Tt.checkForPaidSubscription().then(Nt),B().runtime.sendMessage({command:"LOGOUT"})}))}()})),ge.addEventListener("click",(e=>{e.preventDefault(),self.open("https://languagetool.org/editor/settings/account","_blank")})),_e.addEventListener("click",(e=>{e.preventDefault(),function(){const{loginUrl:e}=Tt.getManagedSettings();X(e,((e,t)=>(Tt.updatePrivacySettings({allowRemoteCheck:!0}),Tt.updateSettings({username:e,password:"",token:t,knownEmail:e}).then((()=>(Lt(),Tt.checkForPaidSubscription()))).then((()=>{Nt(),B().runtime.sendMessage({command:"START_DICTIONARY_SYNC"}),B().runtime.sendMessage({command:"LOGIN"})})))))}()})),Ee.addEventListener("click",(e=>{e.preventDefault(),Tt.updateSettings({username:"",password:"",userId:null,token:"",isDictionarySynced:!1}).then((()=>{Lt(),Tt.checkForPaidSubscription().then(Nt),B().runtime.sendMessage({command:"LOGOUT"})}))})),de.addEventListener("click",(e=>{e.preventDefault(),function(){const e=L.CLIENT_LOGIN_URL,t=document.getElementById("login-error"),n=document.getElementById("login-success");j(e,((e,s)=>(Tt.updatePrivacySettings({allowRemoteCheck:!0}),Tt.updateSettings({username:e,password:"",token:s,knownEmail:e,apiServerUrl:L.MAIN_SERVER_URL}).then((()=>{re.trackEvent("Action","login",e),n.style.display="block",H(n,"settingsLoginSuccess"),Lt()})).catch((()=>(re.trackEvent("Action","login_error",e),t.style.display="block",H(t,"settingsLoginError"),!1))).then((e=>{if(!1!==e)return Tt.checkForPaidSubscription()})).catch((()=>{re.trackEvent("Action","check_for_subscription_error",e),t.style.display="block",H(t,"settingsCheckForPaidSubscriptionError")})).then((()=>{Nt(),N.startDictionarySync()})).then((()=>{B().runtime.sendMessage({command:"LOGIN"})})))))}()})),Ae.addEventListener("click",(()=>{Ae.classList.contains("lt-toggle--checked")?(xt(),re.trackEvent("Action","disable_synonyms",O.getUserLanguageCodes()[0])):(Dt(),re.trackEvent("Action","enable_synonyms",O.getUserLanguageCodes()[0]))})),fe.addEventListener("click",(()=>{fe.classList.contains("lt-toggle--checked")?(Ut(),re.trackEvent("Action","disable_picky_mode",O.getUserLanguageCodes()[0])):(kt(),re.trackEvent("Action","enable_picky_mode",O.getUserLanguageCodes()[0]))})),Se.addEventListener("change",(function(t){const n=Se.value;Tt.updateSettings({openCardHotkey:n}),t.isTrusted&&re.trackEvent("Action","set_shortcut",e.getOS()+":"+(n||"off"))})),"Windows"===e.getOS()&&(null===(Q=Se.querySelector("[value='Alt']"))||void 0===Q||Q.remove()),Ie.addEventListener("click",(()=>{Ce.classList.toggle("lt-toggle-box--visible"),Ie.classList.toggle("lt-options-toggle--visible")&&Te.focus()})),Te.addEventListener("keydown",(e=>{"Enter"===e.key&&Gt()})),Te.addEventListener("input",(()=>{setTimeout(wt,0)})),Te.addEventListener("paste",(function(e){if(Te.value)return;if(!e.clipboardData)return;const t=e.clipboardData.getData("text/plain");if(!t)return;const n=t.split(/\n+/);n.length<=1||(e.preventDefault(),U.addBatch(n).then((()=>Mt())))})),Re.addEventListener("click",Gt),Ne.addEventListener("click",(function(){confirm(P.getMessage("settingsAreYouSure"))&&U.clear().then((()=>Mt([],!0)))})),Le.addEventListener("click",(function(){const e=U.getSorted(),t=document.createElement("textarea");t.value=e.join("\n"),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t);const n=document.getElementById("personalDictionary-options__copyMessage");n.style.display="block",F(3e3).then((()=>Z(n,(()=>{n.style.display="none",n.style.opacity="1"}))))})),be.addEventListener("click",(()=>{be.classList.toggle("lt-options-toggle--visible"),ve.classList.toggle("lt-toggle-box--visible")})),Oe.addEventListener("click",(function(){Tt.updateSettings({ignoredRules:[]}).then(Ft)})),e.isThunderbird()?(De.hidden=!0,document.body.setAttribute("data-is-thunderbird","true")):De.addEventListener("click",(()=>{xe.classList.toggle("lt-toggle-box--visible"),De.classList.toggle("lt-options-toggle--visible")&&Ue.focus()})),Ue.addEventListener("keydown",(e=>{"Enter"===e.key&&Zt()})),Ue.addEventListener("input",(()=>{setTimeout(Vt,0)})),Ue.addEventListener("paste",(function(e){if(Ue.value)return;if(!e.clipboardData)return;const t=e.clipboardData.getData("text/plain");if(!t)return;const n=t.split(/\s+/);if(n.length<=1)return;e.preventDefault();const s=Tt.getSettings().disabledDomains;n.forEach((e=>{const t=C(e,"");t.trim()&&Rt(e)&&!s.includes(t)&&s.push(t)})),Tt.updateSettings({disabledDomains:s}).then(Vt)})),Me.addEventListener("click",Zt),we.addEventListener("click",(function(){confirm(P.getMessage("settingsAreYouSure"))&&Tt.updateSettings({disabledDomains:[]}).then((()=>Ht([],!0)))})),Ge.addEventListener("click",(()=>{Ge.classList.toggle("lt-options-toggle--visible"),Be.classList.toggle("lt-toggle-box--visible")})),Ve.addEventListener("click",(e=>{Ve.classList.toggle("lt-options-toggle--visible"),Ze.classList.toggle("lt-toggle-box--visible")})),ze.addEventListener("click",Kt),Xe.addEventListener("click",Kt),je.addEventListener("click",Kt),Je.addEventListener("click",(e=>{e.preventDefault(),zt()})),Ye.addEventListener("submit",(e=>{e.preventDefault(),function(){let e="";e=ze.checked?L.MAIN_SERVER_URL:Xe.checked?L.LOCAL_SERVER_URL:Qe.value.trim();const t=document.getElementById("serverUrl-success"),n=document.getElementById("serverUrl-error");Tt.updateSettings({apiServerUrl:e}).then((()=>{Tt.checkForPaidSubscription().then((()=>{Nt()})),t.style.display="block",F(3e3).then((()=>Z(t,(()=>{t.style.display="none",t.style.opacity="1"}))))})).catch((()=>{n.style.display="block",F(3e3).then((()=>Z(n,(()=>{n.style.display="none",n.style.opacity="1"}))))}))}()})),et.addEventListener("change",(function(){Tt.updateSettings({motherTongue:et.value})})),tt.addEventListener("change",(function(){Tt.updateSettings({enVariant:tt.value}),function(e=!1){it.parentElement.classList.toggle("lt-language-variant__checkbox--visible",e)}("en-GB"===tt.value)})),nt.addEventListener("change",(function(){Tt.updateSettings({deVariant:nt.value})})),st.addEventListener("change",(function(){Tt.updateSettings({ptVariant:st.value})})),rt.addEventListener("change",(function(){Tt.updateSettings({caVariant:rt.value})})),it.addEventListener("change",(function(){const e=it.checked,t={id:"OXFORD_SPELLING_Z_NOT_S",language:"en",turnOffDate:new Date};e?Tt.removeIgnoredRule(t.id):Tt.addIgnoredRule(t)})),at.addEventListener("input",(()=>{Tt.updateSettings({autoCheck:at.checked}),jt(at.checked)})),ct.addEventListener("keydown",(e=>{"Enter"===e.key&&Qt()})),ct.addEventListener("input",(()=>{setTimeout(Jt,0)})),ct.addEventListener("paste",(function(e){if(ct.value)return;if(!e.clipboardData)return;const t=e.clipboardData.getData("text/plain");if(!t)return;const n=t.split(/\s+/);if(n.length<=1)return;e.preventDefault();const s=Tt.getSettings().autoCheckOnDomains;n.forEach((e=>{const t=C(e,"");t.trim()&&Rt(e)&&!s.includes(t)&&s.push(t)})),Tt.updateSettings({autoCheckOnDomains:s}).then(Jt)})),gt.addEventListener("click",Qt),dt.addEventListener("click",(function(){confirm(P.getMessage("settingsAreYouSure"))&&Tt.updateSettings({autoCheckOnDomains:[]}).then((()=>qt([],!0)))})),ht.addEventListener("keydown",(e=>{"Enter"===e.key&&sn()})),ht.addEventListener("input",(()=>{setTimeout(nn,0)})),ht.addEventListener("paste",(function(e){if(ht.value)return;if(!e.clipboardData)return;const t=e.clipboardData.getData("text/plain");if(!t)return;const n=t.split(/\s+/);if(n.length<=1)return;e.preventDefault();const s=Tt.getSettings().ignoreCheckOnDomains;n.forEach((e=>{const t=C(e);t.trim()&&Rt(e)&&!s.includes(t)&&s.push(t)})),Tt.updateSettings({ignoreCheckOnDomains:s}).then(nn)})),_t.addEventListener("click",sn),Et.addEventListener("click",(function(){confirm(P.getMessage("settingsAreYouSure"))&&Tt.updateSettings({ignoreCheckOnDomains:[]}).then((()=>tn([],!0)))})),ft.textContent=(new Date).getFullYear().toString(),e.isSafari()&&pt instanceof HTMLAnchorElement&&(pt.href+=pt.href.includes("?")?"&hidePremium=true":"?hidePremium=true"),Tt.onReady((()=>{const e=document.querySelector("#heart");if(e){const{showRuleId:t}=Tt.getUIState();let n=0;e.style.cursor="default",e.style.userSelect="none",t&&(e.style.color="blue"),e.addEventListener("click",(s=>{4==++n&&(t?(e.style.color="",Tt.updateUIState({showRuleId:!1})):(e.style.color="blue",Tt.updateUIState({showRuleId:!0}))),s.preventDefault()}))}}))})()})();